<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CDN å…§å®¹åˆ†ç™¼ç¶²çµ¡ â€” ç³»çµ±æ¶æ§‹åœ–è§£</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang HK", "Microsoft JhengHei", sans-serif; background: #0f1117; color: #e0e0e0; min-height: 100vh; }
    .container { max-width: 960px; margin: 0 auto; padding: 40px 24px; }
    header { text-align: center; margin-bottom: 40px; }
    header h1 { font-size: 2rem; font-weight: 700; color: #ffffff; margin-bottom: 8px; }
    header p { font-size: 1rem; color: #9ca3af; line-height: 1.6; }
    .card { background: #1a1d27; border-radius: 16px; padding: 32px; margin-bottom: 24px; border: 1px solid #2a2d3a; }
    .card h2 { font-size: 1.5rem; color: #ffffff; margin-bottom: 8px; }
    .card .subtitle { font-size: 0.95rem; color: #6366f1; font-weight: 500; margin-bottom: 16px; }
    .card p { font-size: 0.95rem; color: #c0c4cc; line-height: 1.8; margin-bottom: 12px; }
    .diagram-container { background: #13151c; border-radius: 12px; padding: 24px; margin: 24px 0; overflow-x: auto; border: 1px solid #2a2d3a; }
    .diagram-container svg { display: block; margin: 0 auto; max-width: 100%; height: auto; }
    .steps { list-style: none; padding: 0; margin: 16px 0; }
    .steps li { display: flex; align-items: flex-start; gap: 12px; padding: 12px 0; border-bottom: 1px solid #2a2d3a; font-size: 0.95rem; color: #c0c4cc; line-height: 1.6; }
    .steps li:last-child { border-bottom: none; }
    .step-num { flex-shrink: 0; width: 28px; height: 28px; border-radius: 50%; background: #6366f1; color: #fff; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 700; }
    .key-points { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 16px; }
    @media (max-width: 600px) { .key-points { grid-template-columns: 1fr; } .container { padding: 24px 16px; } header h1 { font-size: 1.5rem; } .card { padding: 20px; } }
    .key-point { background: #13151c; border-radius: 10px; padding: 16px; border-left: 3px solid #6366f1; }
    .key-point h4 { color: #a5b4fc; font-size: 0.9rem; margin-bottom: 6px; }
    .key-point p { font-size: 0.85rem; color: #c0c4cc; margin-bottom: 0; line-height: 1.6; }
    .use-case { background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.05)); border-left: 3px solid #6366f1; border-radius: 0 10px 10px 0; padding: 16px 20px; margin-top: 16px; }
    .use-case h4 { color: #a5b4fc; font-size: 0.9rem; margin-bottom: 6px; }
    .use-case p { font-size: 0.9rem; color: #c0c4cc; margin-bottom: 0; }
    .tabs { display: flex; gap: 4px; background: #1a1d27; border-radius: 12px; padding: 4px; margin-bottom: 24px; overflow-x: auto; }
    .tab-btn { flex: 1; padding: 12px 16px; border: none; background: transparent; color: #9ca3af; font-size: 0.9rem; font-weight: 500; border-radius: 8px; cursor: pointer; transition: all 0.25s ease; white-space: nowrap; font-family: inherit; }
    .tab-btn:hover { color: #e0e0e0; background: rgba(255, 255, 255, 0.05); }
    .tab-btn.active { background: #6366f1; color: #ffffff; font-weight: 600; }
    .tab-content { display: none; animation: fadeIn 0.3s ease; }
    .tab-content.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    /* AI Viber */
    .prompt-card { background: #13151c; border-radius: 12px; padding: 20px; margin-bottom: 16px; border: 1px solid #2a2d3a; }
    .prompt-card h4 { color: #a5b4fc; font-size: 0.95rem; margin-bottom: 12px; }
    .prompt-text { background: #0a0b10; border-radius: 8px; padding: 16px; font-size: 0.85rem; color: #c0c4cc; line-height: 1.8; white-space: pre-wrap; word-break: break-word; border: 1px solid #2a2d3a; position: relative; }
    .prompt-text .placeholder { color: #fbbf24; font-weight: 600; }
    .copy-btn { margin-top: 10px; padding: 8px 16px; background: #6366f1; color: #fff; border: none; border-radius: 8px; font-size: 0.8rem; cursor: pointer; font-family: inherit; transition: all 0.2s ease; }
    .copy-btn:hover { background: #4f46e5; }
    .copy-btn.copied { background: #10B981; }
  
    .related-topics { margin-top: 32px; }
    .related-topics h3 { color: #ffffff; font-size: 1.1rem; margin-bottom: 14px; }
    .related-links { display: flex; flex-wrap: wrap; gap: 10px; }
    .related-link { display: inline-block; padding: 8px 16px; background: #13151c; border: 1px solid #2a2d3a; border-radius: 20px; color: #a5b4fc; font-size: 0.85rem; text-decoration: none; transition: all 0.2s ease; }
    .related-link:hover { background: #6366f1; color: #ffffff; border-color: #6366f1; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>CDN å…§å®¹åˆ†ç™¼ç¶²çµ¡</h1>
      <p>é»æ¨£ç”¨å…¨çƒåŠ é€Ÿåˆ†ç™¼éœæ…‹è³‡æº</p>
    </header>

    <div class="tabs">
      <button class="tab-btn active" data-tab="overview">â‘  æ•´é«”æ¶æ§‹</button>
      <button class="tab-btn" data-tab="cache">â‘¡ å¿«å–ç­–ç•¥</button>
      <button class="tab-btn" data-premium="true" data-tab="practice">â‘¢ å¯¦æˆ°è¦é»</button>
      <button class="tab-btn" data-premium="true" data-tab="ai-viber">â‘£ AI Viber</button>
    </div>

    <div class="tab-content active" id="overview">
      <div class="card">
        <h2>CDN ä¿‚å’©</h2>
        <div class="subtitle">å°‡éœæ…‹è³‡æºï¼ˆåœ–ç‰‡ã€å½±ç‰‡ã€JSã€CSSï¼‰æ”¾å–ºå…¨çƒå„åœ°å˜… Edge Serverï¼Œç”¨æˆ¶å°±è¿‘æ”</div>
        <p>
          æƒ³åƒä¸€å€‹å ´æ™¯ï¼šç¶²ç«™ Server å–ºç¾åœ‹ï¼Œä½†é¦™æ¸¯ç”¨æˆ¶è¦ load ä¸€å¼µåœ–ï¼Œå‘¢å€‹è«‹æ±‚è¦è·¨è¶ŠåŠå€‹åœ°çƒå…ˆåˆ°ã€‚æ…¢åˆ°ä¹œå’ã€‚CDNï¼ˆContent Delivery Networkï¼‰å°±ä¿‚è§£æ±ºæ–¹æ¡ˆâ€”â€”å–ºå…¨çƒå¥½å¤šåœ°æ–¹ï¼ˆé¦™æ¸¯ã€æ±äº¬ã€å€«æ•¦......ï¼‰æ“º Edge Serverï¼Œå°‡éœæ…‹è³‡æº cache å–ºå—°åº¦ã€‚
        </p>
        <p>
          ç•¶é¦™æ¸¯ç”¨æˆ¶å• DNS å˜…æ™‚å€™ï¼ŒDNS æœƒæ€æœ€è¿‘å˜… Edge Serverï¼ˆé¦™æ¸¯ PoPï¼‰å˜… IP è¿”å›ã€‚ç”¨æˆ¶ç›´æ¥å¾é¦™æ¸¯æ”è³‡æºï¼Œå¿«å¥½å¤šã€‚å¦‚æœ Edge Server å†‡å—°å€‹è³‡æºï¼ŒEdge å°±æœƒå» Origin Serverï¼ˆä¸»æ©Ÿï¼‰æ‹‰ï¼Œæ‹‰å®Œ cache è½åšŸï¼Œä¹‹å¾Œå…¶ä»–ç”¨æˆ¶å°±å””ä½¿å†å• Originã€‚å‘¢å€‹æµç¨‹å¥½é‡è¦ï¼Œä¸€å®šè¦æŒæ¡ã€‚
        </p>

        <div class="diagram-container">
          <svg viewBox="0 0 740 370" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <filter id="shadow" x="-4%" y="-4%" width="108%" height="108%"><feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/></filter>
              <filter id="glowGreen" x="-20%" y="-20%" width="140%" height="140%"><feGaussianBlur stdDeviation="6" result="blur"/><feFlood flood-color="#10B981" flood-opacity="0.2" result="color"/><feComposite in="color" in2="blur" operator="in" result="glow"/><feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
              <linearGradient id="gradUser" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#1e3a5f"/><stop offset="100%" stop-color="#1e293b"/></linearGradient>
              <linearGradient id="gradDNS" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#2d1f5e"/><stop offset="100%" stop-color="#1e293b"/></linearGradient>
              <linearGradient id="gradEdge" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#0f3d2e"/><stop offset="100%" stop-color="#1e293b"/></linearGradient>
              <linearGradient id="gradOrigin" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#3d2e0a"/><stop offset="100%" stop-color="#1e293b"/></linearGradient>
              <marker id="arrBlue" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L8,4 L0,8 Z" fill="#6366f1"/></marker>
              <marker id="arrGreen" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L8,4 L0,8 Z" fill="#34d399"/></marker>
              <marker id="arrYellow" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L8,4 L0,8 Z" fill="#f59e0b"/></marker>
              <marker id="arrPurple" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L8,4 L0,8 Z" fill="#8b5cf6"/></marker>
            </defs>

            <!-- User (HK) -->
            <g transform="translate(30,145)">
              <rect width="100" height="65" rx="14" fill="url(#gradUser)" stroke="#3B82F6" stroke-width="2" filter="url(#shadow)"/>
              <text x="50" y="28" text-anchor="middle" fill="#3B82F6" font-size="13" font-weight="700">User</text>
              <text x="50" y="48" text-anchor="middle" fill="#9ca3af" font-size="10">(é¦™æ¸¯)</text>
            </g>

            <!-- DNS GeoDNS -->
            <g transform="translate(175,125)">
              <rect width="135" height="85" rx="14" fill="url(#gradDNS)" stroke="#8b5cf6" stroke-width="2" filter="url(#shadow)"/>
              <text x="68" y="28" text-anchor="middle" fill="#8b5cf6" font-size="13" font-weight="700">DNS</text>
              <text x="68" y="48" text-anchor="middle" fill="#8b5cf6" font-size="12" font-weight="600">(GeoDNS)</text>
              <text x="68" y="70" text-anchor="middle" fill="#9ca3af" font-size="10">æŒ‰åœ°ç†ä½ç½®è·¯ç”±</text>
            </g>

            <!-- Edge Server HK -->
            <g transform="translate(365,80)">
              <rect width="130" height="95" rx="14" fill="url(#gradEdge)" stroke="#10B981" stroke-width="2" filter="url(#glowGreen)"/>
              <text x="65" y="28" text-anchor="middle" fill="#10B981" font-size="13" font-weight="700">Edge Server</text>
              <text x="65" y="48" text-anchor="middle" fill="#34d399" font-size="11">(é¦™æ¸¯ PoP)</text>
              <text x="65" y="70" text-anchor="middle" fill="#9ca3af" font-size="10">Cache éœæ…‹è³‡æº</text>
              <text x="65" y="85" text-anchor="middle" fill="#34d399" font-size="9">Cache Hit = è¶…å¿«</text>
            </g>

            <!-- Edge Server US -->
            <g transform="translate(365,210)">
              <rect width="130" height="70" rx="14" fill="url(#gradEdge)" stroke="#10B981" stroke-width="2" filter="url(#shadow)"/>
              <text x="65" y="28" text-anchor="middle" fill="#10B981" font-size="12" font-weight="700">Edge (US PoP)</text>
              <text x="65" y="50" text-anchor="middle" fill="#9ca3af" font-size="10">ç¾åœ‹ç¯€é»</text>
            </g>

            <!-- Origin Server -->
            <g transform="translate(555,100)">
              <rect width="120" height="75" rx="14" fill="url(#gradOrigin)" stroke="#F59E0B" stroke-width="2" filter="url(#shadow)"/>
              <text x="60" y="28" text-anchor="middle" fill="#F59E0B" font-size="13" font-weight="700">Origin</text>
              <text x="60" y="48" text-anchor="middle" fill="#F59E0B" font-size="12" font-weight="600">Server</text>
              <text x="60" y="66" text-anchor="middle" fill="#9ca3af" font-size="10">æºç«™</text>
            </g>

            <!-- Object Storage -->
            <g transform="translate(555,210)">
              <rect width="120" height="65" rx="14" fill="url(#gradOrigin)" stroke="#f59e0b" stroke-width="2" filter="url(#shadow)"/>
              <text x="60" y="28" text-anchor="middle" fill="#f59e0b" font-size="11" font-weight="700">Object Storage</text>
              <text x="60" y="48" text-anchor="middle" fill="#9ca3af" font-size="10">S3 / GCS</text>
            </g>

            <!-- Arrows (curved) -->
            <path d="M132,177 C150,177 160,170 173,168" fill="none" stroke="#6366f1" stroke-width="2" marker-end="url(#arrBlue)"/>
            <text x="152" y="165" text-anchor="middle" fill="#a5b4fc" font-size="9">1. DNS æŸ¥è©¢</text>

            <path d="M312,170 C330,165 345,140 363,132" fill="none" stroke="#8b5cf6" stroke-width="2" marker-end="url(#arrPurple)"/>
            <text x="332" y="145" text-anchor="middle" fill="#a78bfa" font-size="9">2. æ€ HK PoP</text>

            <path d="M430,175 C430,190 420,200 395,172" fill="none" stroke="#34d399" stroke-width="2" marker-end="url(#arrGreen)"/>
            <text x="440" y="192" fill="#34d399" font-size="9">3. Cache Hit</text>

            <path d="M497,135 C520,130 535,128 553,130" fill="none" stroke="#f59e0b" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrYellow)"/>
            <text x="525" y="122" text-anchor="middle" fill="#f59e0b" font-size="9">Cache Miss</text>

            <path d="M615,175 C615,195 615,205 615,208" fill="none" stroke="#f59e0b" stroke-width="1.5" marker-end="url(#arrYellow)"/>
            <text x="640" y="195" fill="#f59e0b" font-size="9">æ‹‰è³‡æº</text>
          </svg>
        </div>

        <h3 style="color:#fff; font-size:1.1rem; margin-bottom:12px;">å®Œæ•´æµç¨‹</h3>
        <ol class="steps">
          <li><span class="step-num">1</span><span>ç”¨æˆ¶ï¼ˆé¦™æ¸¯ï¼‰è«‹æ±‚ static.example.com/image.jpgã€‚DNSï¼ˆGeoDNSï¼‰æ ¹æ“šç”¨æˆ¶ IP å˜…åœ°ç†ä½ç½®ï¼Œè¿”å›æœ€è¿‘å˜… Edge Serverï¼ˆé¦™æ¸¯ PoPï¼‰å˜… IPã€‚å‘¢æ­¥å¥½é—œéµâ€”â€”æ€å•±ç¯€é»å¿«å¥½å¤šã€‚</span></li>
          <li><span class="step-num">2</span><span>ç”¨æˆ¶å‘é¦™æ¸¯ Edge Server æ”è³‡æºã€‚å¦‚æœ Edge æœ‰ cacheï¼ˆCache Hitï¼‰ï¼Œç›´æ¥è¿”å›ã€‚é‡é»ä¿‚ï¼šCache Hit å˜…é€Ÿåº¦é€šå¸¸åªæœ‰å¹¾æ¯«ç§’ã€‚</span></li>
          <li><span class="step-num">3</span><span>å¦‚æœ Edge å†‡ï¼ˆCache Missï¼‰ï¼ŒEdge æœƒå» Origin Server æˆ– Object Storage æ‹‰è³‡æºï¼Œcache è½åšŸï¼Œå†è¿”å›ç•€ç”¨æˆ¶ã€‚ä¹‹å¾Œå…¶ä»–ç”¨æˆ¶è«‹æ±‚åŒä¸€å€‹è³‡æºå°±æœƒ Cache Hitã€‚</span></li>
        </ol>
      </div>
    </div>

    <div class="tab-content" id="cache">
      <div class="card">
        <h2>å¿«å–ç­–ç•¥</h2>
        <div class="subtitle">Cache-Control headers åŒ Purge æ©Ÿåˆ¶â€”â€”ä¸€å®šè¦è­˜</div>
        <p>
          CDN å¿«å–å¹¾è€ï¼Œç”± <strong style="color:#6366f1">Cache-Control</strong> header è©±äº‹ã€‚ä¾‹å¦‚ <code style="background:#13151c;padding:2px 6px;border-radius:4px;">max-age=3600</code> è¡¨ç¤º cache 1 å°æ™‚ã€‚å»ºè­°æ ¹æ“šè³‡æºé¡å‹è¨­å®šï¼šåœ–ç‰‡ã€å½±ç‰‡å¯ä»¥ cache è€å•²ï¼ˆå¹¾å€‹æœˆç”šè‡³ä¸€å¹´ï¼‰ï¼›HTML å¯èƒ½è¦çŸ­å•²ï¼Œå› ç‚ºæœƒç¶“å¸¸æ›´æ–°ã€‚
        </p>
        <p>
          ç•¶æ›´æ–°å’—è³‡æºï¼ˆä¾‹å¦‚æ”¹å’— logoï¼‰ï¼Œå°±è¦åš <strong style="color:#f87171">Purge / Invalidation</strong>ï¼šé€šçŸ¥ CDN åˆªé™¤èˆŠ cacheï¼Œä¸‹æ¬¡è«‹æ±‚å°±æœƒå» Origin æ‹‰æ–°ç‰ˆæœ¬ã€‚å‘¢å€‹æ“ä½œä¸€å®šè¦è­˜ï¼Œå””ä¿‚æ›´æ–°å’—ç”¨æˆ¶éƒ½ä»²ç‡åˆ°èˆŠå˜¢ã€‚
        </p>
        <div class="key-points">
          <div class="key-point">
            <h4>GeoDNS è·¯ç”±</h4>
            <p>æ ¹æ“šç”¨æˆ¶ IP å˜…åœ°ç†ä½ç½®ï¼Œè¿”å›æœ€è¿‘ Edge å˜… IPã€‚CloudFlareã€AWS CloudFrontã€Akamai éƒ½æ”¯æ´ã€‚æ€é‚Šå€‹ CDN éƒ½æœƒæœ‰å‘¢å€‹åŠŸèƒ½ã€‚</p>
          </div>
          <div class="key-point">
            <h4>Cache-Control headers</h4>
            <p>å¹¾å€‹é—œéµå€¼ï¼šmax-ageï¼ˆå¹¾è€éæœŸï¼‰ã€no-cacheï¼ˆè¦é©—è­‰å…ˆç”¨ï¼‰ã€immutableï¼ˆå®Œå…¨å””æœƒè®Šï¼‰ã€‚æ­£ç¢ºè¨­å®šå¯ä»¥å¤§å¹…æå‡ hit ratioã€‚</p>
          </div>
          <div class="key-point">
            <h4>Cache hit ratio</h4>
            <p>Hit / (Hit + Miss)ã€‚è¶Šé«˜è¶Šå¥½ï¼Œè¡¨ç¤ºå¤šæ•¸è«‹æ±‚å””ä½¿å» Originã€‚å»ºè­°ç›®æ¨™è¦ >90%ï¼Œä½éå˜…è©±è¦æª¢æŸ¥è¨­å®šã€‚</p>
          </div>
          <div class="key-point">
            <h4>Purge / Invalidation</h4>
            <p>æ›´æ–°å…§å®¹å¾Œè¦ invalidate cacheã€‚å¯ä»¥æŒ‰ URLã€prefixã€æˆ–è€…å…¨ç«™ purgeã€‚æ³¨æ„ï¼šæœ‰ quota é™åˆ¶è¦ç•™æ„ï¼Œå””å¥½äº‚ purgeã€‚</p>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" id="practice">
      <div class="card">
        <h2>å¹¾å€‹å¯¦æˆ°è¦é»</h2>
        <div class="subtitle">è¨­è¨ˆ CDN æ¶æ§‹å˜…é—œéµ</div>
        <div class="key-points">
          <div class="key-point">
            <h4>GeoDNS è·¯ç”±</h4>
            <p>ç”¨ anycast æˆ– GeoDNSï¼Œç¢ºä¿ç”¨æˆ¶é€£å»æœ€è¿‘å˜… PoPã€‚å¸¸è¦‹å˜…éŒ¯èª¤ä¿‚å¿½ç•¥å‘¢æ­¥ï¼Œçµæœ latency é«˜åˆ°å†‡æœ‹å‹ã€‚</p>
          </div>
          <div class="key-point">
            <h4>Cache-Control ç­–ç•¥</h4>
            <p>å»ºè­°éœæ…‹è³‡æºç”¨ max-age=31536000ï¼ˆ1å¹´ï¼‰+ æª”ååŠ  hashï¼ˆä¾‹å¦‚ main.abc123.jsï¼‰ï¼Œæ›´æ–°æ™‚æ›æª”åè‡ªç„¶æœƒæ‹‰æ–°ç‰ˆæœ¬ã€‚HTML å°±ç”¨çŸ­ TTL æˆ– no-cacheã€‚</p>
          </div>
          <div class="key-point">
            <h4>ç›£æ§ Cache hit ratio</h4>
            <p>è¦æŒçºŒç›£æ§ hit ratioã€‚å¦‚æœä½å˜…è©±è¦æª¢æŸ¥ï¼šTTL æ˜¯å¦å¤ªçŸ­ï¼ŸPurge æ˜¯å¦å¤ªå¯†ï¼ŸURL æ˜¯å¦å¤ªå¤šè®ŠåŒ–ï¼ˆä¾‹å¦‚å¸¶ query stringï¼‰ï¼Ÿå‘¢å•²éƒ½ä¿‚å¸¸è¦‹å˜…ã€Œå…‡æ‰‹ã€ã€‚</p>
          </div>
          <div class="key-point">
            <h4>Purge ç­–ç•¥</h4>
            <p>éƒ¨ç½²æ–°ç‰ˆæœ¬æ™‚ purge ç›¸é—œ URLã€‚ä½†æ›´å¥½å˜…åšæ³•ä¿‚ç”¨ versioned URLï¼ˆ/v2/image.jpgï¼‰ï¼Œå¯ä»¥å®Œå…¨é¿å… purgeï¼Œç›´æ¥æ› path å°±å¾—ã€‚ç°¡å–®åˆå¯é ã€‚</p>
          </div>
        </div>
        <div class="use-case">
          <h4>CDN ä¾›æ‡‰å•†å»ºè­°</h4>
          <p>CloudFlareï¼ˆå¹³ã€åŠŸèƒ½å¤šï¼Œé©åˆå…¥é–€ï¼‰ã€AWS CloudFrontï¼ˆæ•´åˆ S3 å¥½æ–¹ä¾¿ï¼‰ã€Akamaiï¼ˆè€ç‰Œã€ä¼æ¥­ç´šï¼‰ã€Fastlyï¼ˆedge computing å¼·ï¼‰ã€Bunny CDNï¼ˆæ€§åƒ¹æ¯”æ¥µé«˜ï¼‰ã€‚æ€é‚Šå€‹è¦ç‡æµé‡ã€é ç®—åŒåŠŸèƒ½éœ€æ±‚ã€‚</p>
        </div>
      </div>
    </div>

    <div class="tab-content" id="ai-viber">
      <div class="card">
        <h2>AI Viber</h2>
        <div class="subtitle">è¤‡è£½ Promptï¼Œè²¼å» AI å·¥å…·ï¼Œå³åˆ»é–‹å§‹ Build</div>

        <div class="prompt-card">
          <h4>Prompt 1 â€” è¨­è¨ˆ CDN ç­–ç•¥</h4>
          <div class="prompt-text" id="prompt1">å¹«æ‰‹è¨­è¨ˆä¸€å€‹å®Œæ•´å˜… CDN ç­–ç•¥ï¼Œé©ç”¨æ–¼ <span class="placeholder">[ä¾‹å¦‚ï¼šé›»å•†ç¶²ç«™ / å½±ç‰‡ä¸²æµå¹³å° / SaaS Dashboard]</span>ã€‚

é …ç›®èƒŒæ™¯ï¼š
- ä¸»è¦ç”¨æˆ¶åˆ†ä½ˆåœ°å€ï¼š<span class="placeholder">[ä¾‹å¦‚ï¼šäºå¤ªå€ç‚ºä¸»ï¼Œæ­ç¾ç‚ºæ¬¡]</span>
- éœæ…‹è³‡æºé¡å‹ï¼š<span class="placeholder">[ä¾‹å¦‚ï¼šåœ–ç‰‡ã€JS/CSS Bundleã€å½±ç‰‡ã€PDF]</span>
- é è¨ˆæ¯æ—¥æµé‡ï¼š<span class="placeholder">[ä¾‹å¦‚ï¼š50TB]</span>
- Origin Server ä½ç½®ï¼š<span class="placeholder">[ä¾‹å¦‚ï¼šAWS us-east-1]</span>

éœ€è¦è¨­è¨ˆå˜…éƒ¨åˆ†ï¼š
1. GeoDNS è·¯ç”±ç­–ç•¥ï¼šé»æ¨£ç¢ºä¿ç”¨æˆ¶é€£å»æœ€è¿‘å˜… PoP
2. Cache-Control Header ç­–ç•¥ï¼š
   - åœ–ç‰‡ / å½±ç‰‡ï¼šé•· TTL + content hash æª”å
   - HTMLï¼šçŸ­ TTL æˆ– no-cache
   - API Responseï¼šæŒ‰å ´æ™¯è¨­å®š
3. Origin Shield é…ç½®ï¼ˆæ¸›å°‘ Origin å£“åŠ›ï¼‰
4. CDN ä¾›æ‡‰å•†é¸æ“‡å»ºè­°ï¼ˆCloudFlare / CloudFront / Fastlyï¼‰

è«‹æä¾›å…·é«”å˜… HTTP Header è¨­å®šç¯„ä¾‹ã€DNS é…ç½®ã€åŒé æœŸå˜… Cache Hit Ratio åˆ†æã€‚</div>
          <button class="copy-btn" onclick="copyPrompt('prompt1', this)">ğŸ“‹ è¤‡è£½</button>
        </div>

        <div class="prompt-card">
          <h4>Prompt 2 â€” å¯¦ç¾ Cache Invalidation ç­–ç•¥</h4>
          <div class="prompt-text" id="prompt2">å¹«æ‰‹è¨­è¨ˆä¸€å¥—å®Œæ•´å˜… CDN Cache Invalidation ç­–ç•¥ï¼Œè§£æ±ºã€Œæ›´æ–°å’—å…§å®¹ä½†ç”¨æˆ¶ä»²ç‡åˆ°èˆŠç‰ˆæœ¬ã€å˜…å•é¡Œã€‚

éœ€è¦è¦†è“‹å˜…å ´æ™¯ï¼š
1. å‰ç«¯éƒ¨ç½²æ–°ç‰ˆæœ¬ï¼ˆJS / CSS Bundleï¼‰
2. ç”¨æˆ¶ä¸Šå‚³æ–°å˜…åœ–ç‰‡ï¼ˆæ›¿æ›èˆŠåœ–ï¼‰
3. ç·Šæ€¥ä¿®å¾©ï¼šéœ€è¦å³æ™‚ä»¤æ‰€æœ‰ Edge å¤±æ•ˆ
4. API Response Cache æ›´æ–°

å»ºè­°æ–¹æ¡ˆå°æ¯”ï¼š
- Versioned URLï¼ˆä¾‹å¦‚ main.abc123.jsï¼‰vs Purge API
- Tag-based Invalidationï¼ˆSurrogate Keyï¼‰
- Soft Purge vs Hard Purge

è‡ªå‹•åŒ–éœ€æ±‚ï¼š
- CI/CD Pipeline æ•´åˆï¼šéƒ¨ç½²æ™‚è‡ªå‹• invalidate ç›¸é—œè³‡æº
- CDN ä¾›æ‡‰å•†ï¼š<span class="placeholder">[ä¾‹å¦‚ï¼šCloudFlare / CloudFront / Fastly]</span>
- ç›£æ§ Cache Hit Ratio å˜… Dashboard è¨­è¨ˆ

è«‹æä¾› CI/CD Pipeline é…ç½®ç¯„ä¾‹ã€Invalidation API èª¿ç”¨å˜… codeã€åŒç›£æ§ Alert è¦å‰‡ã€‚</div>
          <button class="copy-btn" onclick="copyPrompt('prompt2', this)">ğŸ“‹ è¤‡è£½</button>
        </div>
      </div>
    </div>

    <div class="related-topics">
      <div class="card">
        <h3>ç›¸é—œèª²é¡Œ</h3>
        <div class="related-links">
        <a href="load-balancer.html" class="related-link">Load Balancer è² è¼‰å‡è¡¡å™¨</a>
        <a href="cache-invalidation.html" class="related-link">Cache å¤±æ•ˆç­–ç•¥</a>
        <a href="object-storage.html" class="related-link">Object Storage ç‰©ä»¶å­˜å„²</a>
        <a href="large-api-response.html" class="related-link">Large API Response è™•ç†</a>
        </div>
      </div>
    </div>
  </div>

  <script type="application/json" id="pitfall-data">
[
  {
    "title": "Cache-Control è¨­éŒ¯å°è‡´ç”¨æˆ¶ç‡åˆ°èˆŠç‰ˆ",
    "story": "æˆ‘å“‹å°‡ HTML æª”æ¡ˆè¨­å’— max-age=86400ï¼ˆ1æ—¥ï¼‰ï¼Œçµæœæ›´æ–°å’—ç¶²ç«™ä¹‹å¾Œï¼Œç”¨æˆ¶ä»²ä¿‚ç‡åˆ°èˆŠç‰ˆæœ¬ã€‚è¦ç­‰æˆæ—¥å…ˆæœƒè‡ªå‹•æ›´æ–°ã€‚æœ€å¾Œæ”¹ç”¨ no-cache + ETag ç­–ç•¥ã€‚",
    "lesson": "HTML æª”æ¡ˆå””æ‡‰è©²è¨­é•·æ™‚é–“ cacheï¼Œæ‡‰è©²ç”¨ no-cache é…åˆ ETagã€‚éœæ…‹è³‡æºï¼ˆJS/CSSï¼‰ç”¨ content hash åšæª”åå…ˆå¯ä»¥è¨­é•· cacheã€‚"
  },
  {
    "title": "CDN å†‡è¨­ Origin Shield å°è‡´æºç«™éè¼‰",
    "story": "å…¨çƒç”¨æˆ¶åŒæ™‚è¨ªå•ï¼Œæ¯å€‹ CDN edge node éƒ½ç›´æ¥ request æˆ‘å“‹å˜… origin serverã€‚é«˜å³°æœŸ origin server CPU å»åˆ° 95%ã€‚åŠ å’— Origin Shield å±¤ä¹‹å¾Œå›è½åˆ° 20%ã€‚",
    "lesson": "å¦‚æœæœ‰å¤šå€‹ edge locationï¼Œè¨˜å¾—åŠ  Origin Shield åšä¸­é–“å±¤ï¼Œæ¸›å°‘å° origin å˜…è«‹æ±‚æ¬¡æ•¸ã€‚"
  }
]
</script>

<script type="application/json" id="quiz-data">
[
  {
    "question": "ä½ å˜…ç¶²ç«™ç”¨ CDNï¼Œä½† cache hit ratio åªæœ‰ 40%ã€‚æœ€å¯èƒ½å˜…åŸå› ä¿‚å’©ï¼Ÿ",
    "options": [
      {"text": "CDN ç¯€é»å¤ªå°‘", "correct": false, "explanation": "ç¯€é»æ•¸é‡é€šå¸¸å””ä¿‚ä¸»å› ï¼Œå¤§éƒ¨åˆ† CDN ä¾›æ‡‰å•†éƒ½æœ‰è¶³å¤ å˜… PoPã€‚"},
      {"text": "Cache-Control TTL è¨­å¾—å¤ªçŸ­ï¼Œæˆ–è€… URL å¸¶æœ‰å‹•æ…‹ query string", "correct": true, "explanation": "TTL å¤ªçŸ­æœƒä»¤ cache ç¶“å¸¸éæœŸï¼Œè€Œæ¯å€‹å””åŒå˜… query string éƒ½æœƒè¢«ç•¶æˆç¨ç«‹è³‡æºï¼Œå¤§å¹…é™ä½ hit ratioã€‚"},
      {"text": "ç”¨æˆ¶å¤ªå¤š", "correct": false, "explanation": "ç”¨æˆ¶è¶Šå¤šåè€Œæ‡‰è©²ä»¤ hit ratio è¶Šé«˜ï¼Œå› ç‚ºåŒä¸€è³‡æºè¢«æ›´å¤šäººè«‹æ±‚ã€‚"},
      {"text": "Origin server å¤ªæ…¢", "correct": false, "explanation": "Origin é€Ÿåº¦å½±éŸ¿ cache miss å˜…å›æ‡‰æ™‚é–“ï¼Œä½†å””æœƒå½±éŸ¿ hit ratioã€‚"}
    ]
  },
  {
    "question": "éƒ¨ç½²æ–°ç‰ˆæœ¬å‰ç«¯ä¹‹å¾Œï¼Œé»æ¨£ç¢ºä¿ç”¨æˆ¶å³åˆ»ç‡åˆ°æ–°ç‰ˆï¼Ÿ",
    "options": [
      {"text": "ç­‰ cache è‡ªç„¶éæœŸ", "correct": false, "explanation": "å¦‚æœ TTL è¨­å’—å¥½é•·ï¼ˆä¾‹å¦‚ 1 å¹´ï¼‰ï¼Œç”¨æˆ¶å¯èƒ½å¥½è€å…ˆç‡åˆ°æ–°ç‰ˆã€‚"},
      {"text": "ç”¨ versioned URLï¼ˆä¾‹å¦‚ main.abc123.jsï¼‰é…åˆé•· TTL", "correct": true, "explanation": "æª”ååŒ…å« content hashï¼Œæ–°ç‰ˆæœ¬è‡ªå‹•ç”¨æ–° URLï¼ŒèˆŠ cache å””å½±éŸ¿ã€‚HTML ç”¨ no-cache ç¢ºä¿æ¯æ¬¡éƒ½æ‹‰æœ€æ–°å˜… HTMLï¼Œå…¥é¢å¼•ç”¨æ–°å˜… JS/CSS URLã€‚"},
      {"text": "æ¯æ¬¡éƒ½ purge å…¨ç«™ cache", "correct": false, "explanation": "å…¨ç«™ purge æœƒå°è‡´æ‰€æœ‰è³‡æº cache missï¼ŒçŸ­æ™‚é–“å…§ origin å£“åŠ›å¤§å¢ï¼Œè€Œä¸”æœ‰ quota é™åˆ¶ã€‚"},
      {"text": "å°‡æ‰€æœ‰è³‡æºè¨­ç‚º no-store", "correct": false, "explanation": "no-store æœƒä»¤ CDN å®Œå…¨å”” cacheï¼Œå¤±å» CDN å˜…æ„ç¾©ï¼Œæ¯å€‹è«‹æ±‚éƒ½è¦å» originã€‚"}
    ]
  },
  {
    "question": "GeoDNS å˜…ä¸»è¦ä½œç”¨ä¿‚å’©ï¼Ÿ",
    "options": [
      {"text": "åŠ å¯† DNS æŸ¥è©¢", "correct": false, "explanation": "åŠ å¯† DNS ä¿‚ DNS-over-HTTPS (DoH) å˜…åŠŸèƒ½ï¼ŒåŒ GeoDNS ç„¡é—œã€‚"},
      {"text": "æ ¹æ“šç”¨æˆ¶åœ°ç†ä½ç½®è¿”å›æœ€è¿‘å˜… CDN edge server IP", "correct": true, "explanation": "GeoDNS æœƒåˆ†æç”¨æˆ¶å˜… IP åœ°ç†ä½ç½®ï¼Œè¿”å›è·é›¢æœ€è¿‘å˜… PoP ç¯€é» IPï¼Œæ¸›å°‘ç¶²çµ¡å»¶é²ã€‚"},
      {"text": "é˜²æ­¢ DDoS æ”»æ“Š", "correct": false, "explanation": "DDoS é˜²è­·ä¿‚ CDN å˜…å¦ä¸€å€‹åŠŸèƒ½ï¼Œå””ä¿‚ GeoDNS å˜…ä¸»è¦è·è²¬ã€‚"},
      {"text": "åŠ é€Ÿ DNS è§£æé€Ÿåº¦", "correct": false, "explanation": "GeoDNS å˜…é‡é»ä¿‚åœ°ç†ä½ç½®è·¯ç”±ï¼Œå””ä¿‚åŠ é€Ÿ DNS è§£ææœ¬èº«ã€‚"}
    ]
  }
]
</script>

<script type="application/json" id="interview-checklist">
{
  "points": [
    "è§£é‡‹ CDN å˜… Push vs Pull æ¨¡å¼",
    "è¬› Cache-Control headers å˜…è¨­è¨ˆ",
    "GeoDNS é»æ¨£å°‡ç”¨æˆ¶å¼•å°åˆ°æœ€è¿‘å˜… edge",
    "Cache invalidation å˜…ç­–ç•¥åŒ trade-off",
    "ä¼°ç®— CDN cache hit ratio åŒ bandwidth ç¯€çœ"
  ]
}
</script>

  <script src="../premium-gate.js"></script>
  <script>
    const tabs = document.querySelectorAll('.tab-btn');
    const contents = document.querySelectorAll('.tab-content');
    tabs.forEach(tab => { tab.addEventListener('click', () => { tabs.forEach(t => t.classList.remove('active')); contents.forEach(c => c.classList.remove('active')); tab.classList.add('active'); document.getElementById(tab.dataset.tab)?.classList.add('active'); }); });

    function copyPrompt(id, btn) {
      const text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text).then(() => {
        btn.textContent = 'âœ… å·²è¤‡è£½';
        btn.classList.add('copied');
        setTimeout(() => { btn.textContent = 'ğŸ“‹ è¤‡è£½'; btn.classList.remove('copied'); }, 2000);
      });
    }
  </script>
</body>
</html>
