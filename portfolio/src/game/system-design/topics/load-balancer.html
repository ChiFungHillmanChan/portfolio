<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Load Balancer è² è¼‰å‡è¡¡å™¨ â€” ç³»çµ±æ¶æ§‹åœ–è§£</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang HK", "Microsoft JhengHei", sans-serif; background: #0f1117; color: #e0e0e0; min-height: 100vh; }
    .container { max-width: 960px; margin: 0 auto; padding: 40px 24px; }
    header { text-align: center; margin-bottom: 40px; }
    header h1 { font-size: 2rem; font-weight: 700; color: #ffffff; margin-bottom: 8px; }
    header p { font-size: 1rem; color: #9ca3af; line-height: 1.6; }
    .card { background: #1a1d27; border-radius: 16px; padding: 32px; margin-bottom: 24px; border: 1px solid #2a2d3a; }
    .card h2 { font-size: 1.5rem; color: #ffffff; margin-bottom: 8px; }
    .card .subtitle { font-size: 0.95rem; color: #6366f1; font-weight: 500; margin-bottom: 16px; }
    .card p { font-size: 0.95rem; color: #c0c4cc; line-height: 1.8; margin-bottom: 12px; }
    .diagram-container { background: #13151c; border-radius: 12px; padding: 24px; margin: 24px 0; overflow-x: auto; border: 1px solid #2a2d3a; }
    .diagram-container svg { display: block; margin: 0 auto; max-width: 100%; height: auto; }
    .steps { list-style: none; padding: 0; margin: 16px 0; }
    .steps li { display: flex; align-items: flex-start; gap: 12px; padding: 12px 0; border-bottom: 1px solid #2a2d3a; font-size: 0.95rem; color: #c0c4cc; line-height: 1.6; }
    .steps li:last-child { border-bottom: none; }
    .step-num { flex-shrink: 0; width: 28px; height: 28px; border-radius: 50%; background: #6366f1; color: #fff; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 700; }
    .key-points { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 16px; }
    @media (max-width: 600px) { .key-points { grid-template-columns: 1fr; } .container { padding: 24px 16px; } header h1 { font-size: 1.5rem; } .card { padding: 20px; } }
    .key-point { background: #13151c; border-radius: 10px; padding: 16px; border-left: 3px solid #6366f1; }
    .key-point h4 { color: #a5b4fc; font-size: 0.9rem; margin-bottom: 6px; }
    .key-point p { font-size: 0.85rem; color: #c0c4cc; margin-bottom: 0; line-height: 1.6; }
    .use-case { background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.05)); border-left: 3px solid #6366f1; border-radius: 0 10px 10px 0; padding: 16px 20px; margin-top: 16px; }
    .use-case h4 { color: #a5b4fc; font-size: 0.9rem; margin-bottom: 6px; }
    .use-case p { font-size: 0.9rem; color: #c0c4cc; margin-bottom: 0; }
    .tabs { display: flex; gap: 4px; background: #1a1d27; border-radius: 12px; padding: 4px; margin-bottom: 24px; overflow-x: auto; }
    .tab-btn { flex: 1; padding: 12px 16px; border: none; background: transparent; color: #9ca3af; font-size: 0.9rem; font-weight: 500; border-radius: 8px; cursor: pointer; transition: all 0.25s ease; white-space: nowrap; font-family: inherit; }
    .tab-btn:hover { color: #e0e0e0; background: rgba(255, 255, 255, 0.05); }
    .tab-btn.active { background: #6366f1; color: #ffffff; font-weight: 600; }
    .tab-content { display: none; animation: fadeIn 0.3s ease; }
    .tab-content.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    /* AI Viber */
    .prompt-card { background: #13151c; border-radius: 12px; padding: 20px; margin-bottom: 16px; border: 1px solid #2a2d3a; }
    .prompt-card h4 { color: #a5b4fc; font-size: 0.95rem; margin-bottom: 12px; }
    .prompt-text { background: #0a0b10; border-radius: 8px; padding: 16px; font-size: 0.85rem; color: #c0c4cc; line-height: 1.8; white-space: pre-wrap; word-break: break-word; border: 1px solid #2a2d3a; position: relative; }
    .prompt-text .placeholder { color: #fbbf24; font-weight: 600; }
    .copy-btn { margin-top: 10px; padding: 8px 16px; background: #6366f1; color: #fff; border: none; border-radius: 8px; font-size: 0.8rem; cursor: pointer; font-family: inherit; transition: all 0.2s ease; }
    .copy-btn:hover { background: #4f46e5; }
    .copy-btn.copied { background: #10B981; }
  
    .related-topics { margin-top: 32px; }
    .related-topics h3 { color: #ffffff; font-size: 1.1rem; margin-bottom: 14px; }
    .related-links { display: flex; flex-wrap: wrap; gap: 10px; }
    .related-link { display: inline-block; padding: 8px 16px; background: #13151c; border: 1px solid #2a2d3a; border-radius: 20px; color: #a5b4fc; font-size: 0.85rem; text-decoration: none; transition: all 0.2s ease; }
    .related-link:hover { background: #6366f1; color: #ffffff; border-color: #6366f1; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Load Balancer è² è¼‰å‡è¡¡å™¨</h1>
      <p>é»æ¨£å°‡æµé‡åˆ†é…åˆ°å¤šå°æœå‹™å™¨ï¼Œä¿è­‰é«˜å¯ç”¨</p>
    </header>

    <div class="tabs">
      <button class="tab-btn active" data-tab="overview">â‘  æ•´é«”æ¶æ§‹</button>
      <button class="tab-btn" data-tab="algorithms">â‘¡ åˆ†é…æ¼”ç®—æ³•</button>
      <button class="tab-btn" data-premium="true" data-tab="practice">â‘¢ L4 vs L7</button>
      <button class="tab-btn" data-premium="true" data-tab="ai-viber">â‘£ AI Viber</button>
    </div>

    <div class="tab-content active" id="overview">
      <div class="card">
        <h2>Load Balancer ä¿‚å’©</h2>
        <div class="subtitle">å°‡å¤§é‡è«‹æ±‚å¹³å‡åˆ†é…ä¿¾å¤šå° Server è™•ç†</div>
        <p>
          æƒ³åƒä¸€å€‹å ´æ™¯ï¼šç¶²ç«™æ¯ç§’æœ‰ 10 è¬å€‹è«‹æ±‚æ¹§å…¥ï¼Œä¸€å° Server é»æéƒ½æå””æ‚ã€‚å‘¢å€‹æ™‚å€™å°±éœ€è¦å¤šå° Server ä¸€é½Šåˆ†æ“”å·¥ä½œã€‚è€Œ Load Balancer å°±ä¿‚è² è²¬æ±ºå®šæ¯å€‹è«‹æ±‚æ‡‰è©²é€å»é‚Šå° Server å˜…ã€Œäº¤é€šæŒ‡æ®å®˜ã€ã€‚
        </p>
        <p>é‡é»ä¿‚ï¼ŒLoad Balancer ä»²æœƒåšä¸€æ¨£å¥½é‡è¦å˜…å˜¢ï¼š<strong style="color:#f87171">Health Check</strong>ã€‚LB æœƒå®šæœŸæª¢æŸ¥æ¯å° Server ä¿‚å’ªæ­£å¸¸é‹ä½œã€‚å¦‚æœæŸå° Server æ›å’—ï¼ŒLB æœƒè‡ªå‹•å°‡æµé‡è½‰å»å…¶ä»– Serverï¼Œç”¨æˆ¶å®Œå…¨å””æœƒæ„Ÿå—åˆ°ã€‚å‘¢å€‹å°±ä¿‚æ‰€è¬‚å˜…ã€Œé«˜å¯ç”¨ã€ã€‚</p>

        <div class="diagram-container">
          <svg viewBox="0 0 700 350" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <filter id="shadow" x="-4%" y="-4%" width="108%" height="108%"><feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/></filter>
              <filter id="glowAmber" x="-20%" y="-20%" width="140%" height="140%"><feGaussianBlur stdDeviation="6" result="blur"/><feFlood flood-color="#F59E0B" flood-opacity="0.25" result="color"/><feComposite in="color" in2="blur" operator="in" result="glow"/><feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
              <linearGradient id="gradClient" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#1e3a5f"/><stop offset="100%" stop-color="#1e293b"/></linearGradient>
              <linearGradient id="gradLB" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#3d2e0a"/><stop offset="100%" stop-color="#1e293b"/></linearGradient>
              <linearGradient id="gradServer" x1="0%" y1="0%" x2="0%" y2="100%"><stop offset="0%" stop-color="#0f3d2e"/><stop offset="100%" stop-color="#1e293b"/></linearGradient>
              <marker id="arrBlue" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L8,4 L0,8 Z" fill="#6366f1"/></marker>
              <marker id="arrGreen" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L8,4 L0,8 Z" fill="#34d399"/></marker>
              <marker id="arrRed" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L8,4 L0,8 Z" fill="#f87171"/></marker>
            </defs>

            <!-- Clients -->
            <g transform="translate(30,125)">
              <rect width="120" height="75" rx="14" fill="url(#gradClient)" stroke="#3B82F6" stroke-width="2" filter="url(#shadow)"/>
              <text x="60" y="30" text-anchor="middle" fill="#3B82F6" font-size="13" font-weight="700">Clients</text>
              <text x="60" y="50" text-anchor="middle" fill="#9ca3af" font-size="10">å¤§é‡ç”¨æˆ¶è«‹æ±‚</text>
            </g>

            <!-- Load Balancer -->
            <g transform="translate(240,110)">
              <rect width="150" height="90" rx="14" fill="url(#gradLB)" stroke="#F59E0B" stroke-width="2.5" filter="url(#glowAmber)"/>
              <text x="75" y="30" text-anchor="middle" fill="#F59E0B" font-size="15" font-weight="700">Load</text>
              <text x="75" y="50" text-anchor="middle" fill="#F59E0B" font-size="15" font-weight="700">Balancer</text>
              <text x="75" y="72" text-anchor="middle" fill="#9ca3af" font-size="10">è² è¼‰å‡è¡¡</text>
            </g>

            <!-- Servers -->
            <g transform="translate(490,30)">
              <rect width="130" height="58" rx="14" fill="url(#gradServer)" stroke="#10B981" stroke-width="2" filter="url(#shadow)"/>
              <text x="65" y="24" text-anchor="middle" fill="#10B981" font-size="12" font-weight="700">Server 1</text>
              <text x="65" y="44" text-anchor="middle" fill="#34d399" font-size="10">Healthy</text>
            </g>

            <g transform="translate(490,125)">
              <rect width="130" height="58" rx="14" fill="url(#gradServer)" stroke="#10B981" stroke-width="2" filter="url(#shadow)"/>
              <text x="65" y="24" text-anchor="middle" fill="#10B981" font-size="12" font-weight="700">Server 2</text>
              <text x="65" y="44" text-anchor="middle" fill="#34d399" font-size="10">Healthy</text>
            </g>

            <g transform="translate(490,220)">
              <rect width="130" height="58" rx="14" fill="url(#gradServer)" stroke="#10B981" stroke-width="2" filter="url(#shadow)"/>
              <text x="65" y="24" text-anchor="middle" fill="#10B981" font-size="12" font-weight="700">Server 3</text>
              <text x="65" y="44" text-anchor="middle" fill="#34d399" font-size="10">Healthy</text>
            </g>

            <!-- Health Check -->
            <g transform="translate(255,250)">
              <rect width="135" height="52" rx="12" fill="rgba(239,68,68,0.08)" stroke="#f87171" stroke-width="1.5"/>
              <text x="68" y="22" text-anchor="middle" fill="#f87171" font-size="11" font-weight="700">Health Check</text>
              <text x="68" y="40" text-anchor="middle" fill="#f87171" font-size="10">æ¯ 5 ç§’æª¢æŸ¥ä¸€æ¬¡</text>
            </g>

            <!-- Arrow: Clients to LB (curved) -->
            <path d="M152,162 C190,162 200,155 238,155" fill="none" stroke="#6366f1" stroke-width="2" marker-end="url(#arrBlue)"/>
            <text x="195" y="148" text-anchor="middle" fill="#a5b4fc" font-size="10">Requests</text>

            <!-- Arrows: LB to Servers (curved) -->
            <path d="M392,135 C430,125 450,85 488,62" fill="none" stroke="#34d399" stroke-width="1.5" marker-end="url(#arrGreen)"/>
            <path d="M392,155 C420,155 460,155 488,155" fill="none" stroke="#34d399" stroke-width="1.5" marker-end="url(#arrGreen)"/>
            <path d="M392,175 C430,185 450,225 488,248" fill="none" stroke="#34d399" stroke-width="1.5" marker-end="url(#arrGreen)"/>

            <!-- Arrow: Health Check to LB (dashed) -->
            <path d="M322,250 L322,202" fill="none" stroke="#f87171" stroke-width="1.5" stroke-dasharray="4,3" marker-end="url(#arrRed)"/>
          </svg>
        </div>

        <ol class="steps">
          <li><span class="step-num">1</span><span>æ‰€æœ‰ Client è«‹æ±‚å…ˆåˆ°é” Load Balancerâ€”â€”é—œéµåœ¨æ–¼ï¼ŒLB ä¿‚å”¯ä¸€å˜…å…¥å£ã€‚</span></li>
          <li><span class="step-num">2</span><span>LB ç”¨ç‰¹å®šæ¼”ç®—æ³•ï¼ˆRound Robinã€Least Connections ç­‰ï¼‰æ€ä¸€å° Server å»è™•ç†è«‹æ±‚ã€‚æ¯ç¨®æ¼”ç®—æ³•å˜…ç‰¹é»æœƒé€å€‹æ‹†è§£ã€‚</span></li>
          <li><span class="step-num">3</span><span>Health Check å®šæœŸ ping æ¯å° Serverï¼Œæ›å’—å˜…è‡ªå‹•è¸¢èµ°ï¼Œç¢ºä¿æµé‡åªæœƒå»åˆ°å¥åº·å˜… Serverã€‚</span></li>
        </ol>
      </div>
    </div>

    <div class="tab-content" id="algorithms">
      <div class="card">
        <h2>å¹¾ç¨®è² è¼‰åˆ†é…æ¼”ç®—æ³•</h2>
        <div class="subtitle">æ€å•±æ¼”ç®—æ³•ï¼Œç³»çµ±æ•ˆèƒ½å·®å¥½é </div>
        <div class="key-points">
          <div class="key-point">
            <h4>Round Robin</h4>
            <p>æœ€ç°¡å–®å˜…æ–¹æ³•ï¼Œå»ºè­°å¾å‘¢å€‹é–‹å§‹ç†è§£ã€‚å°±ä¿‚è¼ªæµåˆ†é…ï¼šRequest 1 å» Server 1ï¼ŒRequest 2 å» Server 2ï¼ŒRequest 3 å» Server 3ï¼Œç„¶å¾Œå†è¿”å» Server 1ã€‚</p>
          </div>
          <div class="key-point">
            <h4>Weighted Round Robin</h4>
            <p>ç¾å¯¦ä¸­æ¯å° Server å˜…æ€§èƒ½å””ä¸€æ¨£ï¼Œæ‰€ä»¥è¦ä¿¾é«˜æ€§èƒ½å˜… Server å¤šå•²è«‹æ±‚ã€‚ä¾‹å¦‚ Server A æ¬Šé‡ 5ï¼ŒServer B æ¬Šé‡ 3ï¼Œå’ A å°±æœƒæ”¶åˆ°æ›´å¤šæµé‡ã€‚</p>
          </div>
          <div class="key-point">
            <h4>Least Connections</h4>
            <p>å‘¢å€‹å¥½å¯¦ç”¨â€”â€”é‚Šå° Server ç¾æ™‚é€£æ¥æ•¸æœ€å°‘å°±é€å»é‚Šå°ã€‚é©åˆè«‹æ±‚è™•ç†æ™‚é–“å·®ç•°å¤§å˜…å ´æ™¯ï¼Œå› ç‚º LB æœƒè‡ªå‹•å¹³è¡¡å·¥ä½œé‡ã€‚</p>
          </div>
          <div class="key-point">
            <h4>IP Hash</h4>
            <p>æ ¹æ“š Client IP åš hash æ±ºå®šå»é‚Šå° Serverã€‚å¥½è™•ä¿‚åŒä¸€å€‹ç”¨æˆ¶æ°¸é å»åŒä¸€å° Serverï¼ˆé¡ä¼¼ sticky sessionï¼‰ã€‚ä½†è¦ç•™æ„ï¼Œå‘¢å€‹æ–¹æ³•æœ‰é¢¨éšªâ€”â€”å¦‚æœå—°å° Server æ›å’—ï¼Œç”¨æˆ¶å°±è¦é‡æ–°åˆ†é…ã€‚</p>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" id="practice">
      <div class="card">
        <h2>L4 vs L7 è² è¼‰å‡è¡¡</h2>
        <div class="subtitle">å¿…é ˆææ¸…æ¥šå‘¢å…©ç¨®å””åŒå±¤ç´šå˜… Load Balancing</div>
        <p><strong style="color:#fbbf24">L4ï¼ˆTransport Layerï¼‰</strong>ï¼šåªç‡ TCP/IP è³‡è¨Šï¼ˆIP + Portï¼‰ï¼Œå®Œå…¨å””ç† HTTP å…§å®¹ã€‚é€Ÿåº¦æ¥µå¿«ã€é–‹éŠ·æ¥µå°ã€‚å¯ä»¥ç†è§£ç‚ºã€Œç›²åˆ†ã€â€”â€”LB å””çŸ¥è«‹æ±‚å…§å®¹ä¿‚å’©ï¼Œåªè² è²¬å¿«é€Ÿè½‰ç™¼ã€‚ä¾‹å¦‚ AWS NLB å°±ä¿‚ L4ã€‚</p>
        <p><strong style="color:#34d399">L7ï¼ˆApplication Layerï¼‰</strong>ï¼šå¯ä»¥è®€ HTTP headerã€URL pathã€cookie ç­‰å…§å®¹ã€‚åŠŸèƒ½å¼·å¥½å¤šâ€”â€”å¯ä»¥æ ¹æ“š URL è·¯ç”±åˆ°å””åŒå˜… Server çµ„ã€‚ä¾‹å¦‚ /api å» API Serverï¼Œ/static å» CDNã€‚Nginx åŒ AWS ALB éƒ½ä¿‚ L7ã€‚</p>

        <div class="key-points" style="margin-top:20px;">
          <div class="key-point">
            <h4>SSL Termination</h4>
            <p>æœ€ä½³åšæ³•ä¿‚å°‡ SSL è§£å¯†äº¤ä¿¾ LB è™•ç†ï¼Œå¾Œé¢å˜… Server åªéœ€è¦è™•ç† HTTPã€‚å‘¢æ¨£å¯ä»¥å¤§å¹…æ¸›å°‘ Server å˜… CPU è² æ“”ï¼Œå› ç‚ºåŠ è§£å¯†å¥½é£Ÿ CPUã€‚</p>
          </div>
          <div class="key-point">
            <h4>Sticky Sessions</h4>
            <p>å°‡åŒä¸€ç”¨æˆ¶æ°¸é é€å»åŒä¸€å° Serverã€‚æ–¹ä¾¿ä¿‚æ–¹ä¾¿ï¼Œä½†è¦æ³¨æ„â€”â€”å¦‚æœå—°å° Server æ›å’—ï¼Œç”¨æˆ¶å˜… session å°±å†‡å’—ã€‚æ‰€ä»¥ç›¡é‡å””å¥½ä¾è³´ sticky sessionï¼Œè€Œä¿‚ç”¨ Redis åš shared sessionã€‚</p>
          </div>
        </div>

        <div class="use-case">
          <h4>éƒ¨ç½²å»ºè­°</h4>
          <p>ç”Ÿç”¢ç’°å¢ƒå»ºè­°ç”¨å…©å±¤ LBï¼šL4ï¼ˆNLBï¼‰åšç¬¬ä¸€å±¤ï¼ŒL7ï¼ˆALB/Nginxï¼‰åšç¬¬äºŒå±¤ã€‚L4 åš TCP åˆ†æµè¶…å¿«ï¼ŒL7 åšæ™ºæ…§è·¯ç”±è¶…éˆæ´»ã€‚å…©è€…é…åˆï¼Œæ—¢æœ‰æ€§èƒ½åˆæœ‰å½ˆæ€§ã€‚</p>
        </div>
      </div>
    </div>

    <div class="tab-content" id="ai-viber">
      <div class="card">
        <h2>AI Viber</h2>
        <div class="subtitle">è¤‡è£½ Promptï¼Œè²¼å» AI å·¥å…·ï¼Œå³åˆ»é–‹å§‹ Build</div>

        <div class="prompt-card">
          <h4>Prompt 1 â€” è¨­è¨ˆ Load Balancer æ¶æ§‹</h4>
          <div class="prompt-text" id="prompt1">å¹«æ‰‹è¨­è¨ˆä¸€å€‹ Load Balancer æ¶æ§‹ï¼Œæ‡‰ç”¨å ´æ™¯ä¿‚ <span class="placeholder">[é …ç›®æè¿°ï¼Œä¾‹å¦‚ï¼šé›»å•†å¹³å°ã€ç¤¾äº¤åª’é«” API]</span>ã€‚

æŠ€è¡“æ£§ï¼š<span class="placeholder">[æŠ€è¡“æ£§ï¼Œä¾‹å¦‚ï¼šNode.js + Express / Go + Gin]</span>
é è¨ˆæµé‡ï¼š<span class="placeholder">[é è¨ˆæ¯ç§’è«‹æ±‚æ•¸ï¼Œä¾‹å¦‚ï¼š10,000 RPS]</span>
éƒ¨ç½²ç’°å¢ƒï¼š<span class="placeholder">[AWS / GCP / è‡ªå»ºæ©Ÿæˆ¿]</span>

è¦æ±‚ï¼š
1. ç•«å‡ºå®Œæ•´å˜…æ¶æ§‹åœ–ï¼ŒåŒ…æ‹¬ LB å±¤ã€Application å±¤ã€Database å±¤
2. å»ºè­°ç”¨é‚Šç¨® Load Balancerï¼ˆNginx / HAProxy / AWS ALBï¼‰åŒåŸ‹åŸå› 
3. è¨­è¨ˆ Health Check æ©Ÿåˆ¶ï¼ŒåŒ…æ‹¬æª¢æŸ¥é »ç‡åŒ failover ç­–ç•¥
4. åŠ å…¥ SSL Termination å˜…é…ç½®
5. æä¾›å…·é«”å˜… Nginx / HAProxy é…ç½®æª”ç¯„ä¾‹</div>
          <button class="copy-btn" onclick="copyPrompt('prompt1', this)">ğŸ“‹ è¤‡è£½</button>
        </div>

        <div class="prompt-card">
          <h4>Prompt 2 â€” L4 vs L7 è² è¼‰å‡è¡¡é¸å‹åˆ†æ</h4>
          <div class="prompt-text" id="prompt2">é‡å°ä»¥ä¸‹å ´æ™¯ï¼Œåˆ†ææ‡‰è©²ç”¨ L4 å®š L7 Load Balancerï¼Œä¸¦ä¸”æä¾›å¯¦ä½œæ–¹æ¡ˆï¼š

å ´æ™¯æè¿°ï¼š<span class="placeholder">[æè¿°å…·é«”å ´æ™¯ï¼Œä¾‹å¦‚ï¼šå¾®æœå‹™æ¶æ§‹ï¼Œæœ‰ API Gatewayã€WebSocket é€£æ¥ã€éœæ…‹è³‡æº]</span>
ç¾æœ‰æ¶æ§‹ï¼š<span class="placeholder">[ç¾æœ‰å˜…æŠ€è¡“æ£§åŒéƒ¨ç½²æ–¹å¼]</span>

è¦æ±‚ï¼š
1. å°æ¯” L4ï¼ˆTCP/UDP levelï¼‰åŒ L7ï¼ˆHTTP levelï¼‰å˜…å„ªåŠ£
2. åˆ†æå‘¢å€‹å ´æ™¯é©åˆç”¨é‚Šç¨®ï¼Œè§£é‡‹åŸå› 
3. å¦‚æœå»ºè­°ç”¨å…©å±¤ LBï¼ˆL4 + L7ï¼‰ï¼Œç•«å‡ºå®Œæ•´å˜…æµé‡è·¯å¾‘
4. æä¾› session persistence / sticky session å˜…è™•ç†æ–¹æ¡ˆ
5. ä¼°ç®—å””åŒæ–¹æ¡ˆå˜… latency å½±éŸ¿åŒ throughput å·®ç•°
6. ä¿¾å‡ºå…·é«”å˜…é…ç½®ç¯„ä¾‹ï¼ˆNginx / AWS NLB+ALBï¼‰</div>
          <button class="copy-btn" onclick="copyPrompt('prompt2', this)">ğŸ“‹ è¤‡è£½</button>
        </div>

        <div class="prompt-card">
          <h4>Prompt 3 â€” å¯¦ä½œ Auto Scaling + LB è¯å‹•</h4>
          <div class="prompt-text" id="prompt3">è¨­è¨ˆä¸€å€‹ Auto Scaling æ–¹æ¡ˆï¼Œé…åˆ Load Balancer è‡ªå‹•æ“´ç¸®å®¹ï¼š

æ‡‰ç”¨é¡å‹ï¼š<span class="placeholder">[æ‡‰ç”¨é¡å‹ï¼Œä¾‹å¦‚ï¼šREST API / WebSocket Server / GraphQL]</span>
æµé‡æ¨¡å¼ï¼š<span class="placeholder">[æµé‡ç‰¹å¾µï¼Œä¾‹å¦‚ï¼šæ¯æ—¥é«˜å³°æœŸ 10x æµé‡ã€çªç™¼æ€§æµé‡]</span>
é ç®—è€ƒé‡ï¼š<span class="placeholder">[æˆæœ¬é ç®—é™åˆ¶]</span>

è¦æ±‚ï¼š
1. è¨­è¨ˆ scaling policyï¼ˆCPU / Memory / Request Count basedï¼‰
2. LB é»æ¨£è‡ªå‹•æ„ŸçŸ¥æ–°åŠ å…¥æˆ–ç§»é™¤å˜… Server
3. æä¾› warm-up åŒ cool-down ç­–ç•¥ï¼Œé¿å…é »ç¹æ“´ç¸®
4. Health Check åŒ graceful shutdown å˜…é…åˆ
5. ç”¨ Terraform / CloudFormation å¯«å‡º infrastructure as code ç¯„ä¾‹</div>
          <button class="copy-btn" onclick="copyPrompt('prompt3', this)">ğŸ“‹ è¤‡è£½</button>
        </div>
      </div>
    </div>

    <div class="related-topics">
      <div class="card">
        <h3>ç›¸é—œèª²é¡Œ</h3>
        <div class="related-links">
        <a href="api-gateway.html" class="related-link">API Gateway ç¶²é—œ</a>
        <a href="rate-limiter.html" class="related-link">Rate Limiter é™æµå™¨</a>
        <a href="cdn.html" class="related-link">CDN å…§å®¹åˆ†ç™¼ç¶²çµ¡</a>
        <a href="server-vs-serverless.html" class="related-link">Server vs Serverless</a>
        </div>
      </div>
    </div>
  </div>

  <script type="application/json" id="pitfall-data">
[
  {
    "title": "ç”¨ Round Robin ä½† Server è¦æ ¼å””ä¸€æ¨£",
    "story": "æˆ‘å“‹æœ‰ 3 å° serverï¼Œå…¶ä¸­ä¸€å°ä¿‚èˆŠæ©Ÿï¼ˆ2 coreï¼‰ï¼Œå¦å¤–å…©å°ä¿‚æ–°æ©Ÿï¼ˆ8 coreï¼‰ã€‚ç”¨å’— Round Robin ä¹‹å¾Œï¼ŒèˆŠæ©Ÿç¶“å¸¸ CPU 100%ï¼Œæ–°æ©Ÿå¾— 30%ã€‚æœ€å¾Œæ”¹ç”¨ Weighted Round Robin å…ˆè§£æ±ºã€‚",
    "lesson": "LB æ¼”ç®—æ³•è¦é…åˆå¯¦éš› server è¦æ ¼ï¼Œå””ä¿‚å…¨éƒ¨ server éƒ½ä¸€æ¨£å°±å””ä½¿è«—ã€‚"
  },
  {
    "title": "Health Check åª ping ä½†å””æ¸¬åŠŸèƒ½",
    "story": "æˆ‘å“‹å˜… Health Check åªä¿‚ ping server ç‡æœ‰å†‡ responseï¼Œä½†æœ‰æ¬¡ server å˜… DB connection pool çˆ†å’—ï¼Œping ä»²ä¿‚ 200 OKã€‚çµæœæ‰€æœ‰ request éƒ½ 500 errorã€‚",
    "lesson": "Health Check æ‡‰è©²æ¸¬å®Œæ•´å˜…è«‹æ±‚è·¯å¾‘ï¼ˆåŒ…æ‹¬ DBï¼‰ï¼Œå””å¥½æ·¨ä¿‚ pingã€‚"
  }
]
</script>

<script type="application/json" id="quiz-data">
[
  {
    "question": "ä½ å€‹ API å¹³æ™‚ 50 req/sï¼Œé–“ä¸­é£†åˆ° 500 req/sã€‚é‚Šç¨® LB ç­–ç•¥æœ€é©åˆï¼Ÿ",
    "options": [
      {"text": "Round Robin", "correct": false, "explanation": "Round Robin å””è€ƒæ…® server è² è¼‰ï¼Œé«˜å³°æœŸå®¹æ˜“æ‰“çˆ†æŸå¹¾å°ã€‚"},
      {"text": "Least Connections", "correct": true, "explanation": "Least Connections æœƒå°‡æ–°è«‹æ±‚é€å»æœ€ç©ºé–’å˜… serverï¼Œè‡ªå‹•é©æ‡‰æµé‡æ³¢å‹•ã€‚"},
      {"text": "IP Hash", "correct": false, "explanation": "IP Hash ä¿è­‰åŒä¸€ client å»åŒä¸€ serverï¼Œä½†å””èƒ½å¤ å¹³è¡¡çªç™¼æµé‡ã€‚"},
      {"text": "Random", "correct": false, "explanation": "Random å–ºå¤§æµé‡ä¸‹çµ±è¨ˆä¸Šè¶¨å‘å¹³å‡ï¼Œä½†ç„¡æ³•æ‡‰å°çªç™¼ä¸å‡ã€‚"}
    ]
  },
  {
    "question": "Health Check å¤±æ•—å¾Œï¼ŒLB æ‡‰è©²é»åšï¼Ÿ",
    "options": [
      {"text": "å³åˆ»åˆªé™¤ server", "correct": false, "explanation": "ç›´æ¥åˆªé™¤å¤ªæ¿€é€²ï¼Œå¯èƒ½åªä¿‚çŸ­æš«ç¶²çµ¡å•é¡Œã€‚"},
      {"text": "åœæ­¢ç™¼é€æ–°è«‹æ±‚ï¼Œä½†ä¿ç•™ server", "correct": true, "explanation": "æ¨™è¨˜ç‚º unhealthyï¼Œå””å†ç™¼æ–°è«‹æ±‚ï¼Œä½†å®šæœŸé‡æ–°æª¢æŸ¥ã€‚æ¢å¾©å¾Œè‡ªå‹•åŠ è¿”ã€‚"},
      {"text": "ç¹¼çºŒç™¼é€è«‹æ±‚ç­‰ä½¢æ¢å¾©", "correct": false, "explanation": "ç¹¼çºŒç™¼è«‹æ±‚æœƒå°è‡´ç”¨æˆ¶è¦‹åˆ° errorï¼Œå½±éŸ¿é«”é©—ã€‚"},
      {"text": "é‡å•Ÿ server", "correct": false, "explanation": "LB é€šå¸¸ç„¡æ¬Šé™é‡å•Ÿ serverï¼Œå‘¢å€‹ä¿‚ orchestration å±¤å˜…è²¬ä»»ã€‚"}
    ]
  },
  {
    "question": "L4 åŒ L7 Load Balancer æœ€å¤§åˆ†åˆ¥ä¿‚å’©ï¼Ÿ",
    "options": [
      {"text": "L4 åªç‡ IP/Portï¼ŒL7 å¯ä»¥ç‡ HTTP å…§å®¹", "correct": true, "explanation": "L4 å·¥ä½œå–º TCP/UDP å±¤ï¼Œåªæ ¹æ“š IP åŒ Port åˆ†æµã€‚L7 å¯ä»¥æ ¹æ“š URL pathã€headersã€cookies åšæ›´ç²¾æº–å˜…è·¯ç”±ã€‚"},
      {"text": "L4 æ¯” L7 æ…¢", "correct": false, "explanation": "æ°å¥½ç›¸åï¼ŒL4 å› ç‚ºå””éœ€è¦è§£æ HTTP å…§å®¹ï¼Œæ‰€ä»¥é€šå¸¸æ›´å¿«ã€‚"},
      {"text": "L7 å””æ”¯æŒ HTTPS", "correct": false, "explanation": "L7 å®Œå…¨æ”¯æŒ HTTPSï¼Œè€Œä¸”é€šå¸¸è² è²¬ SSL terminationã€‚"},
      {"text": "L4 åŒ L7 æ•ˆèƒ½ä¸€æ¨£", "correct": false, "explanation": "L4 é€šå¸¸æ•ˆèƒ½æ›´é«˜å› ç‚ºä½¢å””éœ€è¦æ·±å±¤å°åŒ…æª¢æŸ¥ã€‚"}
    ]
  }
]
</script>

<script type="application/json" id="interview-checklist">
{
  "points": [
    "å…ˆè¬› DNS â†’ LB â†’ Server å˜… high-level flow",
    "æåŠ Health Check åŒ failover",
    "æ¯”è¼ƒ L4 vs L7 ä¸¦è§£é‡‹æ€é‚Šå€‹",
    "è¬› session persistence å•é¡ŒåŒè§£æ³•",
    "ä¼°ç®— throughput åŒ latency"
  ]
}
</script>

  <script src="../premium-gate.js"></script>
  <script>
    const tabs = document.querySelectorAll('.tab-btn');
    const contents = document.querySelectorAll('.tab-content');
    tabs.forEach(tab => { tab.addEventListener('click', () => { tabs.forEach(t => t.classList.remove('active')); contents.forEach(c => c.classList.remove('active')); tab.classList.add('active'); document.getElementById(tab.dataset.tab)?.classList.add('active'); }); });

    function copyPrompt(id, btn) {
      const text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text).then(() => {
        btn.textContent = 'âœ… å·²è¤‡è£½';
        btn.classList.add('copied');
        setTimeout(() => { btn.textContent = 'ğŸ“‹ è¤‡è£½'; btn.classList.remove('copied'); }, 2000);
      });
    }
  </script>
</body>
</html>
