<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ç³»çµ±æ¶æ§‹åœ–è§£æ•™å®¤</title>
  <meta property="og:type" content="website">
  <meta property="og:title" content="ç³»çµ±æ¶æ§‹åœ–è§£æ•™å®¤">
  <meta property="og:description" content="ç”¨å»£æ±è©±ï¼Œè¼•é¬†å­¸ç³»çµ±è¨­è¨ˆã€‚æ¯ä¸€èª²éƒ½æœ‰äº’å‹•åœ–è§£ã€çœŸå¯¦ä¾‹å­ã€‚">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="ç³»çµ±æ¶æ§‹åœ–è§£æ•™å®¤">
  <meta name="twitter:description" content="ç”¨å»£æ±è©±ï¼Œè¼•é¬†å­¸ç³»çµ±è¨­è¨ˆã€‚æ¯ä¸€èª²éƒ½æœ‰äº’å‹•åœ–è§£ã€çœŸå¯¦ä¾‹å­ã€‚">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang HK", "Microsoft JhengHei", sans-serif;
      background: #0a0b10;
      color: #e0e0e0;
      height: 100vh;
      overflow: hidden;
    }

    /* ==================== Layout ==================== */
    .app-layout {
      display: flex;
      height: 100vh;
    }

    /* ==================== Sidebar ==================== */
    .sidebar {
      width: 280px;
      min-width: 280px;
      background: #0f1117;
      border-right: 1px solid #1e2030;
      display: flex;
      flex-direction: column;
      height: 100vh;
      transition: transform 0.3s ease;
      z-index: 100;
    }

    .sidebar-header {
      padding: 24px 20px 20px;
      border-bottom: 1px solid #1e2030;
      cursor: pointer;
      transition: background 0.2s ease;
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .sidebar-header:hover {
      background: rgba(255, 255, 255, 0.02);
    }

    .sidebar-header-text {
      flex: 1;
      min-width: 0;
    }

    .sidebar-header h1 {
      font-size: 1.15rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 4px;
      letter-spacing: -0.02em;
    }

    .sidebar-header p {
      font-size: 0.78rem;
      color: #6b7280;
      line-height: 1.5;
    }

    /* ==================== Filters ==================== */
    .sidebar-filters {
      padding: 10px 10px 4px;
      border-bottom: 1px solid #1e2030;
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }

    .filter-chip {
      padding: 4px 10px;
      border-radius: 100px;
      border: 1px solid #2a2d3a;
      background: transparent;
      color: #6b7280;
      font-size: 0.68rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.2s ease;
      font-family: inherit;
      white-space: nowrap;
    }

    .filter-chip:hover {
      border-color: #4b5563;
      color: #9ca3af;
    }

    .filter-chip.active {
      background: rgba(99, 102, 241, 0.15);
      border-color: #6366f1;
      color: #a5b4fc;
    }

    .sidebar-nav {
      flex: 1;
      overflow-y: auto;
      padding: 12px 10px;
    }

    .nav-section-title {
      font-size: 0.7rem;
      font-weight: 600;
      color: #4b5563;
      text-transform: uppercase;
      letter-spacing: 0.08em;
      padding: 16px 10px 8px;
    }

    .nav-section-title.hidden,
    .nav-item.hidden {
      display: none;
    }

    .nav-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 10px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.2s ease;
      border: none;
      background: transparent;
      width: 100%;
      text-align: left;
      font-family: inherit;
      color: #9ca3af;
      font-size: 0.88rem;
      position: relative;
    }

    .nav-item:hover {
      background: rgba(255, 255, 255, 0.04);
      color: #d1d5db;
    }

    .nav-item.active {
      background: rgba(99, 102, 241, 0.12);
      color: #a5b4fc;
    }

    .nav-item.active::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%);
      width: 3px;
      height: 20px;
      background: #6366f1;
      border-radius: 0 3px 3px 0;
    }

    .nav-icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.95rem;
      flex-shrink: 0;
    }

    .nav-item-text {
      display: flex;
      flex-direction: column;
      gap: 1px;
      min-width: 0;
    }

    .nav-item-title {
      font-weight: 500;
      font-size: 0.85rem;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .nav-item-sub {
      font-size: 0.72rem;
      color: #6b7280;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .nav-item.active .nav-item-sub {
      color: #818cf8;
    }

    /* Topic badge colors */
    .nav-icon.cache { background: rgba(99, 102, 241, 0.15); }
    .nav-icon.placeholder { background: rgba(75, 85, 99, 0.2); }

    .nav-item.coming-soon {
      opacity: 0.45;
      cursor: default;
    }

    .nav-item.coming-soon:hover {
      background: transparent;
      color: #9ca3af;
    }

    .nav-item:focus {
      outline: 1px solid #6366f1;
      outline-offset: -1px;
    }

    .viewed-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #34d399;
      margin-left: auto;
      flex-shrink: 0;
    }

    .sidebar-search {
      padding: 10px 10px 6px;
      border-bottom: 1px solid #1e2030;
    }

    .sidebar-search input {
      width: 100%;
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid #2a2d3a;
      background: #13151c;
      color: #e0e0e0;
      font-size: 0.82rem;
      font-family: inherit;
      outline: none;
      transition: border-color 0.2s ease;
    }

    .sidebar-search input::placeholder {
      color: #4b5563;
    }

    .sidebar-search input:focus {
      border-color: #6366f1;
    }

    .coming-soon-badge {
      font-size: 0.62rem;
      color: #6b7280;
      background: rgba(75, 85, 99, 0.25);
      padding: 2px 6px;
      border-radius: 4px;
      margin-left: auto;
      flex-shrink: 0;
      white-space: nowrap;
    }

    .sidebar-footer {
      padding: 16px 20px;
      border-top: 1px solid #1e2030;
      font-size: 0.72rem;
      color: #4b5563;
      text-align: center;
    }

    /* ==================== Main Content ==================== */
    .main-content {
      flex: 1;
      overflow: hidden;
      position: relative;
      background: #0f1117;
    }

    .main-content iframe {
      width: 100%;
      height: 100%;
      border: none;
      background: #0f1117;
    }

    /* Welcome screen (when no topic is loaded yet) */
    .welcome-screen {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      text-align: center;
      padding: 40px;
    }

    .welcome-screen.hidden {
      display: none;
    }

    .welcome-icon {
      width: 80px;
      height: 80px;
      border-radius: 20px;
      background: rgba(99, 102, 241, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.2rem;
      margin-bottom: 24px;
    }

    .welcome-screen h2 {
      font-size: 1.5rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 8px;
    }

    .welcome-screen p {
      font-size: 0.95rem;
      color: #6b7280;
      line-height: 1.7;
      max-width: 400px;
    }

    .welcome-hint {
      margin-top: 32px;
      display: flex;
      align-items: center;
      gap: 8px;
      color: #4b5563;
      font-size: 0.82rem;
    }

    .welcome-hint .arrow {
      font-size: 1.2rem;
    }

    /* ==================== Mobile hamburger ==================== */
    .mobile-header {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 52px;
      background: #0f1117;
      border-bottom: 1px solid #1e2030;
      z-index: 200;
      align-items: center;
      padding: 0 16px;
      gap: 12px;
    }

    .hamburger {
      width: 36px;
      height: 36px;
      border: none;
      background: transparent;
      color: #9ca3af;
      font-size: 1.3rem;
      cursor: pointer;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .hamburger:hover {
      background: rgba(255, 255, 255, 0.05);
    }

    .mobile-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: #fff;
      flex: 1;
    }

    .mobile-coffee {
      display: none;
    }

    .overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.5);
      z-index: 99;
    }

    .overlay.visible {
      display: block;
    }

    /* ==================== Responsive ==================== */
    @media (max-width: 768px) {
      .app-layout {
        flex-direction: column;
      }

      .mobile-header {
        display: flex;
      }

      .mobile-coffee {
        display: inline-flex;
        width: 34px;
        height: 34px;
        font-size: 1rem;
      }

      .sidebar {
        position: fixed;
        left: 0;
        top: 0;
        bottom: 0;
        width: 280px;
        min-width: 0;
        transform: translateX(-100%);
        z-index: 300;
      }

      .sidebar.open {
        transform: translateX(0);
      }

      .overlay {
        z-index: 250;
      }

      .main-content {
        flex: 1;
        padding-top: 52px;
        width: 100vw;
        min-width: 0;
        overflow: hidden;
      }

      .main-content iframe {
        height: 100%;
        width: 100%;
      }
    }

    /* Scrollbar */
    .sidebar-nav::-webkit-scrollbar {
      width: 4px;
    }

    .sidebar-nav::-webkit-scrollbar-track {
      background: transparent;
    }

    .sidebar-nav::-webkit-scrollbar-thumb {
      background: #2a2d3a;
      border-radius: 4px;
    }

    /* ==================== Coffee Button ==================== */
    .coffee-btn {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 42px;
      height: 42px;
      border-radius: 50%;
      background: linear-gradient(135deg, rgba(165, 180, 252, 0.25), rgba(99, 102, 241, 0.15));
      border: 2px solid rgba(99, 102, 241, 0.5);
      box-shadow: 0 6px 16px rgba(99, 102, 241, 0.2);
      color: #a5b4fc;
      font-size: 1.3rem;
      text-decoration: none;
      transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
      flex-shrink: 0;
    }

    .coffee-btn:hover,
    .coffee-btn:focus {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 10px 22px rgba(99, 102, 241, 0.35);
      border-color: rgba(129, 140, 248, 0.8);
      outline: none;
    }

    .coffee-btn:active {
      transform: translateY(0) scale(0.96);
      box-shadow: 0 4px 12px rgba(99, 102, 241, 0.25);
    }
  </style>
</head>
<body>

  <!-- Mobile header -->
  <div class="mobile-header">
    <button class="hamburger" id="menuBtn">â˜°</button>
    <span class="mobile-title">ç³»çµ±æ¶æ§‹åœ–è§£æ•™å®¤</span>
    <a class="coffee-btn mobile-coffee" href="https://buymeacoffee.com/hillmanchan709" target="_blank" rel="noopener noreferrer" aria-label="Buy me a coffee">â˜•</a>
  </div>
  <div class="overlay" id="overlay"></div>

  <div class="app-layout">
    <!-- ==================== Sidebar ==================== -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header" id="sidebarHeader">
        <div class="sidebar-header-text">
          <h1>ç³»çµ±æ¶æ§‹åœ–è§£æ•™å®¤</h1>
          <p>è¼•é¬†å­¸ç³»çµ±è¨­è¨ˆ</p>
        </div>
        <a class="coffee-btn" href="https://buymeacoffee.com/hillmanchan709" target="_blank" rel="noopener noreferrer" aria-label="Buy me a coffee" onclick="event.stopPropagation()">â˜•</a>
      </div>

      <div class="sidebar-filters">
        <button class="filter-chip active" data-filter="all">å…¨éƒ¨</button>
        <button class="filter-chip" data-filter="career">é¢è©¦</button>
        <button class="filter-chip" data-filter="engineering">å·¥ç¨‹</button>
        <button class="filter-chip" data-filter="network">ç¶²çµ¡</button>
        <button class="filter-chip" data-filter="storage">å­˜å„²</button>
        <button class="filter-chip" data-filter="cache">å¿«å–</button>
        <button class="filter-chip" data-filter="async">ç•°æ­¥</button>
        <button class="filter-chip" data-filter="app">æ‡‰ç”¨</button>
        <button class="filter-chip" data-filter="security">å®‰å…¨</button>
        <button class="filter-chip" data-filter="deploy">éƒ¨ç½²</button>
      </div>

      <div class="sidebar-search">
        <input type="text" id="navSearch" placeholder="æœå°‹èª²é¡Œ..." autocomplete="off">
      </div>

      <nav class="sidebar-nav">
        <!-- ===== è·å ´èˆ‡é¢è©¦ ===== -->
        <div class="nav-section-title" data-section="career">è·å ´èˆ‡é¢è©¦</div>

        <button class="nav-item" data-topic="topics/backend-roadmap.html" data-category="career">
          <span class="nav-icon" style="background:rgba(139,92,246,0.15)">ğŸ—º</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Backend å­¸ç¿’è·¯ç·š</span>
            <span class="nav-item-sub">Java / Linux / DB / API / Cloud</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/junior-vs-senior.html" data-category="career">
          <span class="nav-icon" style="background:rgba(245,158,11,0.15)">ğŸ“Š</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Junior å®š Senior</span>
            <span class="nav-item-sub">Tasks vs Goals / å‡è·ç­–ç•¥</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/ai-vs-software-engineer.html" data-category="career">
          <span class="nav-icon" style="background:rgba(99,102,241,0.15)">ğŸ¤–</span>
          <span class="nav-item-text">
            <span class="nav-item-title">AI æœƒå–ä»£å·¥ç¨‹å¸«ï¼Ÿ</span>
            <span class="nav-item-sub">å¯« Code å¾ä¾†å””ä¿‚ä¸»è¦å·¥ä½œ</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/interview-process.html" data-category="career">
          <span class="nav-icon" style="background:rgba(59,130,246,0.15)">ğŸ¢</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Big Tech é¢è©¦æµç¨‹</span>
            <span class="nav-item-sub">HR Screen â†’ On-site â†’ Team Match</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/star-method.html" data-category="career">
          <span class="nav-icon" style="background:rgba(251,191,36,0.15)">â­</span>
          <span class="nav-item-text">
            <span class="nav-item-title">STAR é¢è©¦æ³•</span>
            <span class="nav-item-sub">Behavioral Interview ç­”é¡Œæ¡†æ¶</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/coding-interview.html" data-category="career">
          <span class="nav-icon" style="background:rgba(34,197,94,0.15)">ğŸ’»</span>
          <span class="nav-item-text">
            <span class="nav-item-title">ç¨‹å¼é¢è©¦æ”»ç•¥</span>
            <span class="nav-item-sub">é‡æ¸…å•é¡Œ / æºé€š / åˆä½œæ…‹åº¦</span>
          </span>
        </button>

        <!-- ===== å·¥ç¨‹å¯¦è¸ ===== -->
        <div class="nav-section-title" data-section="engineering">å·¥ç¨‹å¯¦è¸</div>

        <button class="nav-item" data-topic="topics/git-vs-github.html" data-category="engineering">
          <span class="nav-icon" style="background:rgba(59,130,246,0.15)">ğŸ”€</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Git vs GitHub</span>
            <span class="nav-item-sub">æœ¬åœ°ç‰ˆæœ¬æ§åˆ¶ vs é›²ç«¯å”ä½œ</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/print-vs-debugger.html" data-category="engineering">
          <span class="nav-icon" style="background:rgba(245,158,11,0.15)">ğŸ”</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Print å®š Debugger</span>
            <span class="nav-item-sub">Breakpoint / stdout / é»æ¨£æ€</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/docker.html" data-category="engineering">
          <span class="nav-icon" style="background:rgba(59,130,246,0.15)">ğŸ³</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Docker å®¹å™¨åŒ–</span>
            <span class="nav-item-sub">Alpine ç˜¦èº« / .dockerignore / æ“´å±•</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/dependency-injection.html" data-category="engineering">
          <span class="nav-icon" style="background:rgba(99,102,241,0.15)">ğŸ’‰</span>
          <span class="nav-item-text">
            <span class="nav-item-title">ä¾è³´æ³¨å…¥</span>
            <span class="nav-item-sub">è§£è€¦ / Mock æ¸¬è©¦ / Constructor DI</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/system-design-patterns.html" data-category="engineering">
          <span class="nav-icon" style="background:rgba(34,197,94,0.15)">ğŸ§©</span>
          <span class="nav-item-text">
            <span class="nav-item-title">ç³»çµ±è¨­è¨ˆæ¨¡å¼ç¸½è¦½</span>
            <span class="nav-item-sub">æ“´å±• / å¯¦æ™‚ / å¯é æ€§æ¨¡å¼</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/coding-agent-design.html" data-category="engineering">
          <span class="nav-icon" style="background:rgba(139,92,246,0.15)">ğŸ¤–</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Coding Agent è¨­è¨ˆ</span>
            <span class="nav-item-sub">ReAct Loop / Tool Use / Sandbox</span>
          </span>
        </button>

        <!-- ===== ç¶²çµ¡èˆ‡æµé‡æ§åˆ¶ ===== -->
        <div class="nav-section-title" data-section="network">ç¶²çµ¡èˆ‡æµé‡æ§åˆ¶</div>

        <button class="nav-item" data-topic="topics/port-forwarding.html" data-category="network">
          <span class="nav-icon" style="background:rgba(248,113,113,0.15)">ğŸ”Œ</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Port Forwarding</span>
            <span class="nav-item-sub">NAT / Router è¦å‰‡ / Tunneling</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/localhost-hosting.html" data-category="network">
          <span class="nav-icon" style="background:rgba(16,185,129,0.15)">ğŸ </span>
          <span class="nav-item-text">
            <span class="nav-item-title">æœ¬åœ°é–‹ç™¼åˆ†äº«</span>
            <span class="nav-item-sub">ngrok / Cloudflare Tunnel</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/cdn.html" data-category="network">
          <span class="nav-icon" style="background:rgba(34,197,94,0.15)">ğŸŒ</span>
          <span class="nav-item-text">
            <span class="nav-item-title">CDN å…§å®¹åˆ†ç™¼</span>
            <span class="nav-item-sub">GeoDNS / Edge Cache / Purge</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/load-balancer.html" data-category="network">
          <span class="nav-icon" style="background:rgba(245,158,11,0.15)">âš–ï¸</span>
          <span class="nav-item-text">
            <span class="nav-item-title">è² è¼‰å‡è¡¡å™¨</span>
            <span class="nav-item-sub">Round Robin / L4 vs L7 / Health Check</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/api-gateway.html" data-category="network">
          <span class="nav-icon" style="background:rgba(245,158,11,0.15)">ğŸšª</span>
          <span class="nav-item-text">
            <span class="nav-item-title">API é–˜é“</span>
            <span class="nav-item-sub">é©—è­‰ / é™æµ / è·¯ç”±åˆ†ç™¼</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/large-api-response.html" data-category="network">
          <span class="nav-icon" style="background:rgba(59,130,246,0.15)">ğŸ“¦</span>
          <span class="nav-item-text">
            <span class="nav-item-title">å¤§å‹ API å›æ‡‰</span>
            <span class="nav-item-sub">Pagination / å£“ç¸® / S3 å¸è¼‰</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/rate-limiter.html" data-category="network">
          <span class="nav-icon" style="background:rgba(239,68,68,0.15)">ğŸš¦</span>
          <span class="nav-item-text">
            <span class="nav-item-title">æµé‡é™åˆ¶å™¨</span>
            <span class="nav-item-sub">Token Bucket / Sliding Window / 429</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/scraping-vs-crawling.html" data-category="network">
          <span class="nav-icon" style="background:rgba(139,92,246,0.15)">ğŸ•·</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Scraping vs Crawling</span>
            <span class="nav-item-sub">æ•¸æ“šæå– / ç¶²ç«™åœ°åœ– / SEO</span>
          </span>
        </button>

        <!-- ===== æ•¸æ“šèˆ‡å­˜å„² ===== -->
        <div class="nav-section-title" data-section="storage">æ•¸æ“šèˆ‡å­˜å„²</div>

        <button class="nav-item" data-topic="topics/database-basics.html" data-category="storage">
          <span class="nav-icon" style="background:rgba(59,130,246,0.15)">ğŸ—ƒ</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Database åŸºç¤</span>
            <span class="nav-item-sub">DBMS / ACID / SQL vs NoSQL</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/pick-database.html" data-category="storage">
          <span class="nav-icon" style="background:rgba(245,158,11,0.15)">ğŸ¯</span>
          <span class="nav-item-text">
            <span class="nav-item-title">é»æ€ Database</span>
            <span class="nav-item-sub">CAP å®šç† / SQL vs NoSQL</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/redis.html" data-category="storage">
          <span class="nav-icon" style="background:rgba(239,68,68,0.15)">âš¡</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Redis</span>
            <span class="nav-item-sub">In-Memory / Leaderboard / Postgres é…åˆ</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/key-value-store.html" data-category="storage">
          <span class="nav-icon" style="background:rgba(139,92,246,0.15)">ğŸ—„</span>
          <span class="nav-item-text">
            <span class="nav-item-title">éµå€¼å­˜å„²</span>
            <span class="nav-item-sub">åˆ†å€ / è¤‡è£½ / Quorum å…±è­˜</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/object-storage.html" data-category="storage">
          <span class="nav-icon" style="background:rgba(245,158,11,0.15)">ğŸ“¦</span>
          <span class="nav-item-text">
            <span class="nav-item-title">ç‰©ä»¶å­˜å„²</span>
            <span class="nav-item-sub">é ç°½åç¶²å€ / åˆ†æ®µä¸Šå‚³ / CDN</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/unique-id-generator.html" data-category="storage">
          <span class="nav-icon" style="background:rgba(34,197,94,0.15)">â„ï¸</span>
          <span class="nav-item-text">
            <span class="nav-item-title">å”¯ä¸€ ID ç”Ÿæˆå™¨</span>
            <span class="nav-item-sub">Snowflake 64-bit / æ™‚é–“æ’åº</span>
          </span>
        </button>

        <!-- ===== å¿«å–èˆ‡è®€å–å„ªåŒ– ===== -->
        <div class="nav-section-title" data-section="cache">å¿«å–èˆ‡è®€å–å„ªåŒ–</div>

        <button class="nav-item" data-topic="topics/cache-invalidation.html" data-category="cache">
          <span class="nav-icon cache">âš¡</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Cache å¤±æ•ˆç­–ç•¥</span>
            <span class="nav-item-sub">TTL / Write Through / Around / Back</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/fix-slow-database.html" data-category="cache">
          <span class="nav-icon" style="background:rgba(239,68,68,0.15)">ğŸŒ</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Debug æ…¢ Database</span>
            <span class="nav-item-sub">Slow Query / Index / Cache / æ› DB</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/scale-reads.html" data-category="cache">
          <span class="nav-icon" style="background:rgba(245,158,11,0.15)">ğŸ“ˆ</span>
          <span class="nav-item-text">
            <span class="nav-item-title">è®€å–æ“´å±•</span>
            <span class="nav-item-sub">ç´¢å¼• / ä¸‰å±¤å¿«å– / è®€å–å‰¯æœ¬</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/distributed-cache.html" data-category="cache">
          <span class="nav-icon" style="background:rgba(239,68,68,0.15)">âš¡</span>
          <span class="nav-item-text">
            <span class="nav-item-title">åˆ†æ•£å¼å¿«å–</span>
            <span class="nav-item-sub">Consistent Hashing / é›ªå´©é˜²è­·</span>
          </span>
        </button>

        <!-- ===== ç•°æ­¥èˆ‡æ¶ˆæ¯è™•ç† ===== -->
        <div class="nav-section-title" data-section="async">ç•°æ­¥èˆ‡æ¶ˆæ¯è™•ç†</div>

        <button class="nav-item" data-topic="topics/task-queue.html" data-category="async">
          <span class="nav-icon" style="background:rgba(99,102,241,0.15)">ğŸ“‹</span>
          <span class="nav-item-text">
            <span class="nav-item-title">ä»»å‹™ä½‡åˆ—</span>
            <span class="nav-item-sub">ç•°æ­¥ä»»å‹™ / é‡è©¦æ©Ÿåˆ¶ / æ­»ä¿¡ä½‡åˆ—</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/notification-system.html" data-category="async">
          <span class="nav-icon" style="background:rgba(236,72,153,0.15)">ğŸ””</span>
          <span class="nav-item-text">
            <span class="nav-item-title">é€šçŸ¥ç³»çµ±</span>
            <span class="nav-item-sub">æ¨é€ / çŸ­è¨Š / é›»éƒµå¤šæ¸ é“</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/message-queue.html" data-category="async">
          <span class="nav-icon" style="background:rgba(16,185,129,0.15)">ğŸ“¨</span>
          <span class="nav-item-text">
            <span class="nav-item-title">æ¶ˆæ¯ä½‡åˆ—</span>
            <span class="nav-item-sub">Kafka / ç™¼ä½ˆè¨‚é–± / ç²¾ç¢ºä¸€æ¬¡</span>
          </span>
        </button>

        <!-- ===== æ‡‰ç”¨ç³»çµ±è¨­è¨ˆ ===== -->
        <div class="nav-section-title" data-section="app">æ‡‰ç”¨ç³»çµ±è¨­è¨ˆ</div>

        <button class="nav-item" data-topic="topics/url-shortener.html" data-category="app">
          <span class="nav-icon" style="background:rgba(16,185,129,0.15)">ğŸ”—</span>
          <span class="nav-item-text">
            <span class="nav-item-title">çŸ­ç¶²å€ç³»çµ±</span>
            <span class="nav-item-sub">Base62 / 301 vs 302 / æ•¸æ“šåˆ†æ</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/session-manager.html" data-category="app">
          <span class="nav-icon" style="background:rgba(99,102,241,0.15)">ğŸ”</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Session ç®¡ç†å™¨</span>
            <span class="nav-item-sub">Cookie vs JWT / Redis å­˜å„²</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/search-autocomplete.html" data-category="app">
          <span class="nav-icon" style="background:rgba(139,92,246,0.15)">ğŸ”</span>
          <span class="nav-item-text">
            <span class="nav-item-title">æœå°‹è‡ªå‹•è£œå…¨</span>
            <span class="nav-item-sub">Trie å‰ç¶´æ¨¹ / æ’å / é˜²æŠ–</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/web-crawler.html" data-category="app">
          <span class="nav-icon" style="background:rgba(248,113,113,0.15)">ğŸ•·</span>
          <span class="nav-item-text">
            <span class="nav-item-title">ç¶²é çˆ¬èŸ²</span>
            <span class="nav-item-sub">å»£åº¦å„ªå…ˆ / å¸ƒéš†éæ¿¾å™¨ / robots.txt</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/news-feed.html" data-category="app">
          <span class="nav-icon" style="background:rgba(245,158,11,0.15)">ğŸ“°</span>
          <span class="nav-item-text">
            <span class="nav-item-title">å‹•æ…‹æ¶ˆæ¯æµ</span>
            <span class="nav-item-sub">å¯«æ™‚æ¨é€ vs è®€æ™‚æ‹‰å– / æ’å</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/chat-system.html" data-category="app">
          <span class="nav-icon" style="background:rgba(59,130,246,0.15)">ğŸ’¬</span>
          <span class="nav-item-text">
            <span class="nav-item-title">å³æ™‚é€šè¨Šç³»çµ±</span>
            <span class="nav-item-sub">WebSocket / æ¶ˆæ¯ä½‡åˆ— / é›¢ç·šæ¶ˆæ¯</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/chess-game-design.html" data-category="app">
          <span class="nav-icon" style="background:rgba(34,197,94,0.15)">â™Ÿ</span>
          <span class="nav-item-text">
            <span class="nav-item-title">ç·šä¸Šæ£‹é¡éŠæˆ²</span>
            <span class="nav-item-sub">Matchmaking / WebSocket / Game State</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/video-streaming.html" data-category="app">
          <span class="nav-icon" style="background:rgba(236,72,153,0.15)">ğŸ¬</span>
          <span class="nav-item-text">
            <span class="nav-item-title">å½±ç‰‡ä¸²æµ</span>
            <span class="nav-item-sub">è½‰ç¢¼ / HLS-DASH / CDN åˆ†ç™¼</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/payment-system.html" data-category="app">
          <span class="nav-icon" style="background:rgba(34,197,94,0.15)">ğŸ’³</span>
          <span class="nav-item-text">
            <span class="nav-item-title">æ”¯ä»˜ç³»çµ±</span>
            <span class="nav-item-sub">å†ªç­‰æ€§ / è¤‡å¼è¨˜å¸³ / Saga / Webhook</span>
          </span>
        </button>

        <!-- ===== ç›£æ§èˆ‡å®‰å…¨ ===== -->
        <div class="nav-section-title" data-section="security">ç›£æ§èˆ‡å®‰å…¨</div>

        <button class="nav-item" data-topic="topics/authentication.html" data-category="security">
          <span class="nav-icon" style="background:rgba(248,113,113,0.15)">ğŸ”‘</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Authentication é©—è­‰</span>
            <span class="nav-item-sub">Basic / Session / JWT</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/server-vs-serverless.html" data-category="security">
          <span class="nav-icon" style="background:rgba(16,185,129,0.15)">ğŸ–¥</span>
          <span class="nav-item-text">
            <span class="nav-item-title">Server vs Serverless</span>
            <span class="nav-item-sub">VPS / Lambda / é»æ¨£æ€</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/self-host-vs-cloud.html" data-category="security">
          <span class="nav-icon" style="background:rgba(245,158,11,0.15)">â˜ï¸</span>
          <span class="nav-item-text">
            <span class="nav-item-title">è‡ªæ¶ vs é›²ç«¯</span>
            <span class="nav-item-sub">AWS vs è‡ªæ¶ / æ“´å±• / ç›£æ§æ¯”è¼ƒ</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/metrics-logging.html" data-category="security">
          <span class="nav-icon" style="background:rgba(99,102,241,0.15)">ğŸ“Š</span>
          <span class="nav-item-text">
            <span class="nav-item-title">ç›£æ§èˆ‡æ—¥èªŒ</span>
            <span class="nav-item-sub">Kafka / Prometheus / Grafana</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/monitoring.html" data-category="security">
          <span class="nav-icon" style="background:rgba(16,185,129,0.15)">ğŸ“¡</span>
          <span class="nav-item-text">
            <span class="nav-item-title">æ‡‰ç”¨ç¨‹å¼ç›£æ§</span>
            <span class="nav-item-sub">Prometheus / Grafana / å‘Šè­¦ç³»çµ±</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/cicd-pipeline.html" data-category="security">
          <span class="nav-icon" style="background:rgba(59,130,246,0.15)">ğŸ”„</span>
          <span class="nav-item-text">
            <span class="nav-item-title">CI/CD è‡ªå‹•åŒ–éƒ¨ç½²</span>
            <span class="nav-item-sub">GitHub Actions / IaC / è‡ªå‹•æ¸¬è©¦</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/secure-ai-agents.html" data-category="security">
          <span class="nav-icon" style="background:rgba(248,113,113,0.15)">ğŸ›¡</span>
          <span class="nav-item-text">
            <span class="nav-item-title">AI Agent å®‰å…¨</span>
            <span class="nav-item-sub">Lethal Trifecta / Guardrail é˜²è­·</span>
          </span>
        </button>

        <button class="nav-item" data-topic="topics/ai-scraper-defense.html" data-category="security">
          <span class="nav-icon" style="background:rgba(139,92,246,0.15)">ğŸ•¸ï¸</span>
          <span class="nav-item-text">
            <span class="nav-item-title">é˜²ç¦¦ AI çˆ¬èŸ²</span>
            <span class="nav-item-sub">robots.txt / Honeypot / Bot åµæ¸¬</span>
          </span>
        </button>

        <!-- ===== éƒ¨ç½²èˆ‡è¨—ç®¡ ===== -->
        <div class="nav-section-title" data-section="deploy">éƒ¨ç½²èˆ‡è¨—ç®¡</div>

        <button class="nav-item" data-topic="topics/deployment.html" data-category="deploy">
          <span class="nav-icon" style="background:rgba(16,185,129,0.15)">ğŸš€</span>
          <span class="nav-item-text">
            <span class="nav-item-title">å…è²»éƒ¨ç½²å¹³å°</span>
            <span class="nav-item-sub">Vercel / Railway / Supabase / Firebase</span>
          </span>
        </button>
      </nav>

      <div class="sidebar-footer">
        <div id="progressCount"></div>
        ç”¨æœ€ç°¡å–®å˜…æ–¹å¼å­¸æœ€è¤‡é›œå˜…æ¦‚å¿µ
      </div>
    </aside>

    <!-- ==================== Main Content ==================== -->
    <main class="main-content" id="mainContent">
      <!-- Welcome screen -->
      <div class="welcome-screen" id="welcomeScreen">
        <div class="welcome-icon">ğŸ—</div>
        <h2>æ­¡è¿åšŸåˆ°ç³»çµ±æ¶æ§‹æ•™å®¤</h2>
        <p>å‘¢åº¦ç”¨å»£æ±è©±ï¼Œç”¨æœ€ç°¡å–®ã€æœ€ç›´ç™½å˜…æ–¹å¼ï¼Œç†è§£å„ç¨®ç³»çµ±è¨­è¨ˆå˜…æ¦‚å¿µåŒæ¶æ§‹åœ–ã€‚</p>
        <div class="welcome-hint">
          <span class="arrow">ğŸ‘ˆ</span>
          <span>å–ºå·¦é‚Šæ€ä¸€å€‹èª²é¡Œé–‹å§‹å­¸ç¿’</span>
        </div>
      </div>

      <!-- Topic iframe (hidden initially) -->
      <iframe id="topicFrame" style="display:none;" title="èª²é¡Œå…§å®¹"></iframe>
    </main>
  </div>

  <script>
    const navItems = document.querySelectorAll('.nav-item:not(.coming-soon)');
    const welcomeScreen = document.getElementById('welcomeScreen');
    const topicFrame = document.getElementById('topicFrame');
    const sidebar = document.getElementById('sidebar');
    const overlay = document.getElementById('overlay');
    const menuBtn = document.getElementById('menuBtn');
    const sidebarHeader = document.getElementById('sidebarHeader');
    const navSearch = document.getElementById('navSearch');

    // ==================== Hash Deep Linking ====================
    function topicToHash(url) {
      return url.replace('topics/', '').replace('.html', '');
    }

    function hashToTopic(hash) {
      const slug = hash.replace('#', '');
      return slug ? 'topics/' + slug + '.html' : '';
    }

    // ==================== Progress Tracker ====================
    const STORAGE_KEY = 'sa-viewed-topics';

    function getViewedTopics() {
      try {
        return JSON.parse(localStorage.getItem(STORAGE_KEY)) || [];
      } catch { return []; }
    }

    function markTopicViewed(url) {
      const viewed = getViewedTopics();
      if (!viewed.includes(url)) {
        viewed.push(url);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(viewed));
      }
      updateViewedIndicators();
      updateProgressCount();
    }

    function updateViewedIndicators() {
      const viewed = getViewedTopics();
      document.querySelectorAll('.nav-item[data-topic]').forEach(item => {
        const existing = item.querySelector('.viewed-dot');
        if (existing) existing.remove();
        if (viewed.includes(item.getAttribute('data-topic')) && !item.querySelector('.coming-soon-badge')) {
          const dot = document.createElement('span');
          dot.className = 'viewed-dot';
          item.appendChild(dot);
        }
      });
    }

    function updateProgressCount() {
      const viewed = getViewedTopics();
      const total = document.querySelectorAll('.nav-item:not(.coming-soon)[data-topic]').length;
      const count = viewed.filter(url =>
        document.querySelector(`.nav-item[data-topic="${url}"]`)
      ).length;
      const el = document.getElementById('progressCount');
      if (el) el.textContent = count > 0 ? `å·²é–±è®€ ${count} / ${total} èª²` : '';
    }

    // ==================== Load Topic ====================
    // Mobile-friendly CSS injected into topic iframes
    const mobileDiagramCSS = `
      @media (max-width: 768px) {
        .diagram-container { -webkit-overflow-scrolling: touch; position: relative; }
        .diagram-container svg { min-width: 600px; height: auto; }
        .diagram-container::after {
          content: 'â† å·¦å³æ»‘å‹•æŸ¥çœ‹ â†’';
          display: block;
          text-align: center;
          font-size: 0.75rem;
          color: #6b7280;
          padding-top: 8px;
        }
        .container { padding: 20px 12px; }
        header h1 { font-size: 1.3rem; }
        .card { padding: 16px; border-radius: 12px; }
        .card h2 { font-size: 1.2rem; }
        .tabs { flex-wrap: nowrap; overflow-x: auto; -webkit-overflow-scrolling: touch; }
        .tab-btn { padding: 10px 12px; font-size: 0.8rem; min-width: max-content; }
      }
    `;

    function injectMobileCSS(iframe) {
      try {
        const doc = iframe.contentDocument || iframe.contentWindow.document;
        if (!doc || !doc.head) return;
        if (doc.getElementById('mobile-diagram-fix')) return;
        const style = doc.createElement('style');
        style.id = 'mobile-diagram-fix';
        style.textContent = mobileDiagramCSS;
        doc.head.appendChild(style);
      } catch (e) { /* cross-origin guard */ }
    }

    topicFrame.addEventListener('load', () => injectMobileCSS(topicFrame));

    function loadTopic(url, btn) {
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      if (btn) btn.classList.add('active');

      welcomeScreen.classList.add('hidden');
      topicFrame.style.display = 'block';
      topicFrame.src = url;

      // Update hash
      window.location.hash = topicToHash(url);

      // Track progress
      markTopicViewed(url);

      sidebar.classList.remove('open');
      overlay.classList.remove('visible');
    }

    // Go home
    function goHome() {
      document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
      welcomeScreen.classList.add('hidden');
      topicFrame.style.display = 'block';
      topicFrame.src = 'topics/welcome.html';

      history.replaceState(null, '', window.location.pathname + window.location.search);

      sidebar.classList.remove('open');
      overlay.classList.remove('visible');
    }

    // Sidebar header â†’ home
    sidebarHeader.addEventListener('click', goHome);

    // Nav items
    navItems.forEach(item => {
      item.addEventListener('click', () => {
        const topic = item.getAttribute('data-topic');
        if (topic) loadTopic(topic, item);
      });
    });

    // ==================== Hash-aware Init ====================
    function initFromHash() {
      const hash = window.location.hash;
      if (hash && hash.length > 1) {
        const topicUrl = hashToTopic(hash);
        const targetBtn = document.querySelector(`.nav-item[data-topic="${topicUrl}"]`);
        if (targetBtn && !targetBtn.classList.contains('coming-soon')) {
          loadTopic(topicUrl, targetBtn);
          return;
        }
      }
      goHome();
    }

    initFromHash();

    // Browser back/forward
    window.addEventListener('hashchange', () => {
      const hash = window.location.hash;
      if (!hash || hash === '#') {
        goHome();
        return;
      }
      const topicUrl = hashToTopic(hash);
      const targetBtn = document.querySelector(`.nav-item[data-topic="${topicUrl}"]`);
      if (targetBtn && !targetBtn.classList.contains('coming-soon')) {
        document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active'));
        targetBtn.classList.add('active');
        welcomeScreen.classList.add('hidden');
        topicFrame.style.display = 'block';
        topicFrame.src = topicUrl;
        markTopicViewed(topicUrl);
      }
    });

    // Mobile menu
    menuBtn.addEventListener('click', () => {
      sidebar.classList.toggle('open');
      overlay.classList.toggle('visible');
    });

    overlay.addEventListener('click', () => {
      sidebar.classList.remove('open');
      overlay.classList.remove('visible');
    });

    // Listen for navigation requests from welcome page (iframe postMessage)
    window.addEventListener('message', (e) => {
      if (e.origin !== window.location.origin) return;
      if (e.data && e.data.type === 'loadTopic' && e.data.url) {
        const targetBtn = document.querySelector(`.nav-item[data-topic="${e.data.url}"]`);
        if (targetBtn) {
          loadTopic(e.data.url, targetBtn);
        }
      }
    });

    // ==================== Filters ====================
    const filterChips = document.querySelectorAll('.filter-chip');
    const sectionTitles = document.querySelectorAll('.nav-section-title[data-section]');
    const filteredItems = document.querySelectorAll('.nav-item[data-category]');

    function getActiveFilter() {
      const active = document.querySelector('.filter-chip.active');
      return active ? active.getAttribute('data-filter') : 'all';
    }

    function applyFilter(filter) {
      if (filter === 'all') {
        sectionTitles.forEach(t => t.classList.remove('hidden'));
        filteredItems.forEach(i => i.classList.remove('hidden'));
      } else {
        sectionTitles.forEach(t => {
          t.classList.toggle('hidden', t.getAttribute('data-section') !== filter);
        });
        filteredItems.forEach(i => {
          i.classList.toggle('hidden', i.getAttribute('data-category') !== filter);
        });
      }
    }

    filterChips.forEach(chip => {
      chip.addEventListener('click', () => {
        const filter = chip.getAttribute('data-filter');
        filterChips.forEach(c => c.classList.remove('active'));
        chip.classList.add('active');
        navSearch.value = '';
        applyFilter(filter);
      });
    });

    // ==================== Sidebar Search ====================
    navSearch.addEventListener('input', () => {
      const query = navSearch.value.trim().toLowerCase();

      if (!query) {
        // Restore to current filter
        applyFilter(getActiveFilter());
        return;
      }

      // Search across all items regardless of filter
      filteredItems.forEach(item => {
        const title = (item.querySelector('.nav-item-title')?.textContent || '').toLowerCase();
        const sub = (item.querySelector('.nav-item-sub')?.textContent || '').toLowerCase();
        item.classList.toggle('hidden', !title.includes(query) && !sub.includes(query));
      });

      // Show/hide section titles based on visible children
      sectionTitles.forEach(title => {
        const section = title.getAttribute('data-section');
        const hasVisible = Array.from(
          document.querySelectorAll(`.nav-item[data-category="${section}"]`)
        ).some(i => !i.classList.contains('hidden'));
        title.classList.toggle('hidden', !hasVisible);
      });
    });

    // ==================== Keyboard Navigation ====================
    document.addEventListener('keydown', (e) => {
      const active = document.activeElement;
      if (active === topicFrame || active === navSearch) return;

      if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {
        e.preventDefault();
        const visible = Array.from(document.querySelectorAll('.nav-item:not(.hidden):not(.coming-soon)'));
        if (!visible.length) return;

        const currentIdx = visible.indexOf(document.activeElement);
        let nextIdx;
        if (e.key === 'ArrowDown') {
          nextIdx = currentIdx < 0 ? 0 : Math.min(currentIdx + 1, visible.length - 1);
        } else {
          nextIdx = currentIdx < 0 ? visible.length - 1 : Math.max(currentIdx - 1, 0);
        }
        visible[nextIdx].focus();
        visible[nextIdx].scrollIntoView({ block: 'nearest' });
      }

      if (e.key === 'Enter' && active?.classList.contains('nav-item')) {
        active.click();
      }
    });

    // ==================== Init Progress UI ====================
    updateViewedIndicators();
    updateProgressCount();
  </script>
</body>
</html>
