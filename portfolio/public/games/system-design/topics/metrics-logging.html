<!DOCTYPE html>
<html lang="zh-HK">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Metrics & Logging ç›£æ§æ—¥èªŒ â€” ç³»çµ±æ¶æ§‹åœ–è§£</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "PingFang HK", "Microsoft JhengHei", sans-serif; background: #0f1117; color: #e0e0e0; min-height: 100vh; }
    .container { max-width: 960px; margin: 0 auto; padding: 40px 24px; }
    header { text-align: center; margin-bottom: 40px; }
    header h1 { font-size: 2rem; font-weight: 700; color: #ffffff; margin-bottom: 8px; }
    header p { font-size: 1rem; color: #9ca3af; line-height: 1.6; }
    .card { background: #1a1d27; border-radius: 16px; padding: 32px; margin-bottom: 24px; border: 1px solid #2a2d3a; }
    .card h2 { font-size: 1.5rem; color: #ffffff; margin-bottom: 8px; }
    .card .subtitle { font-size: 0.95rem; color: #6366f1; font-weight: 500; margin-bottom: 16px; }
    .card p { font-size: 0.95rem; color: #c0c4cc; line-height: 1.8; margin-bottom: 12px; }
    .diagram-container { background: #13151c; border-radius: 12px; padding: 24px; margin: 24px 0; overflow-x: auto; border: 1px solid #2a2d3a; }
    .diagram-container svg { display: block; margin: 0 auto; max-width: 100%; height: auto; }
    .steps { list-style: none; padding: 0; margin: 16px 0; }
    .steps li { display: flex; align-items: flex-start; gap: 12px; padding: 12px 0; border-bottom: 1px solid #2a2d3a; font-size: 0.95rem; color: #c0c4cc; line-height: 1.6; }
    .steps li:last-child { border-bottom: none; }
    .step-num { flex-shrink: 0; width: 28px; height: 28px; border-radius: 50%; background: #6366f1; color: #fff; display: flex; align-items: center; justify-content: center; font-size: 0.8rem; font-weight: 700; }
    .key-points { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin-top: 16px; }
    @media (max-width: 600px) { .key-points { grid-template-columns: 1fr; } .container { padding: 24px 16px; } header h1 { font-size: 1.5rem; } .card { padding: 20px; } }
    .key-point { background: #13151c; border-radius: 10px; padding: 16px; border-left: 3px solid #6366f1; }
    .key-point h4 { color: #a5b4fc; font-size: 0.9rem; margin-bottom: 6px; }
    .key-point p { font-size: 0.85rem; color: #c0c4cc; margin-bottom: 0; line-height: 1.6; }
    .use-case { background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.05)); border-left: 3px solid #6366f1; border-radius: 0 10px 10px 0; padding: 16px 20px; margin-top: 16px; }
    .use-case h4 { color: #a5b4fc; font-size: 0.9rem; margin-bottom: 6px; }
    .use-case p { font-size: 0.9rem; color: #c0c4cc; margin-bottom: 0; }
    .tabs { display: flex; gap: 4px; background: #1a1d27; border-radius: 12px; padding: 4px; margin-bottom: 24px; overflow-x: auto; }
    .tab-btn { flex: 1; padding: 12px 16px; border: none; background: transparent; color: #9ca3af; font-size: 0.9rem; font-weight: 500; border-radius: 8px; cursor: pointer; transition: all 0.25s ease; white-space: nowrap; font-family: inherit; }
    .tab-btn:hover { color: #e0e0e0; background: rgba(255, 255, 255, 0.05); }
    .tab-btn.active { background: #6366f1; color: #ffffff; font-weight: 600; }
    .tab-content { display: none; animation: fadeIn 0.3s ease; }
    .tab-content.active { display: block; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
    /* AI Viber */
    .prompt-card { background: #13151c; border-radius: 12px; padding: 20px; margin-bottom: 16px; border: 1px solid #2a2d3a; }
    .prompt-card h4 { color: #a5b4fc; font-size: 0.95rem; margin-bottom: 12px; }
    .prompt-text { background: #0a0b10; border-radius: 8px; padding: 16px; font-size: 0.85rem; color: #c0c4cc; line-height: 1.8; white-space: pre-wrap; word-break: break-word; border: 1px solid #2a2d3a; position: relative; }
    .prompt-text .placeholder { color: #fbbf24; font-weight: 600; }
    .copy-btn { margin-top: 10px; padding: 8px 16px; background: #6366f1; color: #fff; border: none; border-radius: 8px; font-size: 0.8rem; cursor: pointer; font-family: inherit; transition: all 0.2s ease; }
    .copy-btn:hover { background: #4f46e5; }
    .copy-btn.copied { background: #10B981; }
  
    .related-topics { margin-top: 32px; }
    .related-topics h3 { color: #ffffff; font-size: 1.1rem; margin-bottom: 14px; }
    .related-links { display: flex; flex-wrap: wrap; gap: 10px; }
    .related-link { display: inline-block; padding: 8px 16px; background: #13151c; border: 1px solid #2a2d3a; border-radius: 20px; color: #a5b4fc; font-size: 0.85rem; text-decoration: none; transition: all 0.2s ease; }
    .related-link:hover { background: #6366f1; color: #ffffff; border-color: #6366f1; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Metrics & Logging ç›£æ§æ—¥èªŒç³»çµ±</h1>
      <p>é»æ¨£è¨­è¨ˆæ™‚åºæ•¸æ“šæ”¶é›†åŒ aggregation pipeline</p>
    </header>

    <div class="tabs">
      <button class="tab-btn active" data-tab="overview">â‘  æ•´é«”æ¶æ§‹</button>
      <button class="tab-btn" data-tab="collect">â‘¡ æ”¶é›†æ¨¡å¼</button>
      <button class="tab-btn" data-premium="true" data-tab="practice">â‘¢ å¯¦æˆ°è¦é»</button>
      <button class="tab-btn" data-premium="true" data-tab="ai-viber">â‘£ AI Viber</button>
    </div>

    <div class="tab-content active" id="overview">
      <div class="card">
        <h2>Metrics & Logging ä¿‚å’©ï¼Ÿ</h2>
        <div class="subtitle">é»æ¨£æ”¶é›†ç³»çµ±é‹è¡Œæ•¸æ“šï¼Œåšç›£æ§ã€å‘Šè­¦åŒæ’æŸ¥å•é¡Œ</div>
        <p>
          ç³»çµ±å‡ºå’—äº‹ï¼Œé»æ¨£çŸ¥ï¼ŸCPU çˆ†å’—ã€è«‹æ±‚æ…¢ã€éŒ¯èª¤ç‡å‡â€¦â€¦é å˜…å°±ä¿‚ <strong style="color:#6366f1">Metricsï¼ˆæŒ‡æ¨™ï¼‰</strong> åŒ <strong style="color:#6366f1">Logsï¼ˆæ—¥èªŒï¼‰</strong> åšŸæŒæ¡ç³»çµ±ç‹€æ…‹ã€‚å¿…é ˆåˆ†æ¸…æ¥šï¼šMetrics ä¿‚æ•¸å­—ï¼ˆCPU%ã€QPSã€å»¶é²ï¼‰ï¼ŒLogs ä¿‚æ–‡å­—è¨˜éŒ„ï¼ˆé‚Šå€‹ API å¹¾æ™‚å‡ºéŒ¯ï¼‰ã€‚
        </p>
        <p>
          æˆæ¢ pipeline å˜…æµç¨‹ï¼šå‘¢å•²æ•¸æ“šç”± App Server ç”¢ç”Ÿï¼Œç¶“é Log Agent æ”¶é›†ï¼Œå†é€å» Kafka åš bufferï¼Œæœ€å¾Œå­˜å…¥ Time Series DB æˆ– Elasticsearchï¼Œç”¨ Grafana ç•«åœ–è¡¨ã€‚è¨˜ä½å‘¢å€‹æµç¨‹ã€‚
        </p>

        <div class="diagram-container">
          <svg viewBox="0 0 750 340" xmlns="http://www.w3.org/2000/svg">
            <defs>
              <filter id="shadow" x="-4%" y="-4%" width="108%" height="108%"><feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/></filter>
              <filter id="glowBlue" x="-20%" y="-20%" width="140%" height="140%">
                <feGaussianBlur stdDeviation="5" result="blur"/>
                <feFlood flood-color="#3B82F6" flood-opacity="0.25" result="color"/>
                <feComposite in="color" in2="blur" operator="in" result="glow"/>
                <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
              <filter id="glowKafka" x="-20%" y="-20%" width="140%" height="140%">
                <feGaussianBlur stdDeviation="5" result="blur"/>
                <feFlood flood-color="#10B981" flood-opacity="0.25" result="color"/>
                <feComposite in="color" in2="blur" operator="in" result="glow"/>
                <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
              <filter id="glowGrafana" x="-20%" y="-20%" width="140%" height="140%">
                <feGaussianBlur stdDeviation="5" result="blur"/>
                <feFlood flood-color="#6366f1" flood-opacity="0.25" result="color"/>
                <feComposite in="color" in2="blur" operator="in" result="glow"/>
                <feMerge><feMergeNode in="glow"/><feMergeNode in="SourceGraphic"/></feMerge>
              </filter>
              <linearGradient id="gradBlue" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#1a2540"/>
                <stop offset="100%" stop-color="#1e293b"/>
              </linearGradient>
              <linearGradient id="gradAmber" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#2a2518"/>
                <stop offset="100%" stop-color="#1e293b"/>
              </linearGradient>
              <linearGradient id="gradGreen" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#1a2e28"/>
                <stop offset="100%" stop-color="#1e293b"/>
              </linearGradient>
              <linearGradient id="gradPurple" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#252040"/>
                <stop offset="100%" stop-color="#1e293b"/>
              </linearGradient>
              <linearGradient id="gradIndigo" x1="0%" y1="0%" x2="0%" y2="100%">
                <stop offset="0%" stop-color="#252840"/>
                <stop offset="100%" stop-color="#1e293b"/>
              </linearGradient>
              <marker id="arrBlue" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L8,4 L0,8 Z" fill="#6366f1"/></marker>
              <marker id="arrGreen" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L8,4 L0,8 Z" fill="#34d399"/></marker>
              <marker id="arrPurple" markerWidth="8" markerHeight="8" refX="7" refY="4" orient="auto"><path d="M0,0 L8,4 L0,8 Z" fill="#8b5cf6"/></marker>
            </defs>

            <!-- App Servers -->
            <g transform="translate(20,130)">
              <rect width="100" height="60" rx="12" fill="url(#gradBlue)" stroke="#3B82F6" stroke-width="2" filter="url(#glowBlue)"/>
              <text x="50" y="28" text-anchor="middle" fill="#3B82F6" font-size="12" font-weight="700">App</text>
              <text x="50" y="45" text-anchor="middle" fill="#9ca3af" font-size="10">Servers</text>
            </g>

            <!-- Log Agent -->
            <g transform="translate(160,120)">
              <rect width="120" height="70" rx="12" fill="url(#gradAmber)" stroke="#f59e0b" stroke-width="2" filter="url(#shadow)"/>
              <text x="60" y="28" text-anchor="middle" fill="#f59e0b" font-size="13" font-weight="700">Log Agent</text>
              <text x="60" y="48" text-anchor="middle" fill="#9ca3af" font-size="10">Fluentd / Filebeat</text>
            </g>

            <!-- Kafka -->
            <g transform="translate(330,80)">
              <rect width="120" height="80" rx="12" fill="url(#gradGreen)" stroke="#10B981" stroke-width="2" filter="url(#glowKafka)"/>
              <text x="60" y="28" text-anchor="middle" fill="#10B981" font-size="14" font-weight="700">Kafka</text>
              <text x="60" y="48" text-anchor="middle" fill="#9ca3af" font-size="10">Buffer</text>
              <text x="60" y="68" text-anchor="middle" fill="#34d399" font-size="10">é«˜åå</text>
            </g>

            <!-- Time Series DB -->
            <g transform="translate(500,30)">
              <rect width="110" height="55" rx="12" fill="url(#gradPurple)" stroke="#8b5cf6" stroke-width="2" filter="url(#shadow)"/>
              <text x="55" y="24" text-anchor="middle" fill="#8b5cf6" font-size="11" font-weight="700">Time Series DB</text>
              <text x="55" y="42" text-anchor="middle" fill="#9ca3af" font-size="10">InfluxDB / Prometheus</text>
            </g>

            <!-- Elasticsearch -->
            <g transform="translate(500,120)">
              <rect width="110" height="55" rx="12" fill="url(#gradPurple)" stroke="#8b5cf6" stroke-width="2" filter="url(#shadow)"/>
              <text x="55" y="24" text-anchor="middle" fill="#8b5cf6" font-size="11" font-weight="700">Elasticsearch</text>
              <text x="55" y="42" text-anchor="middle" fill="#9ca3af" font-size="10">å…¨æ–‡æœå°‹ Log</text>
            </g>

            <!-- Grafana -->
            <g transform="translate(500,210)">
              <rect width="140" height="60" rx="12" fill="url(#gradIndigo)" stroke="#6366f1" stroke-width="2" filter="url(#glowGrafana)"/>
              <text x="70" y="28" text-anchor="middle" fill="#6366f1" font-size="13" font-weight="700">Grafana</text>
              <text x="70" y="48" text-anchor="middle" fill="#9ca3af" font-size="10">Dashboard / å‘Šè­¦</text>
            </g>

            <!-- Arrows (curved paths) -->
            <path d="M122,160 C138,158 148,156 158,155" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrBlue)"/>
            <text x="138" y="150" text-anchor="middle" fill="#a5b4fc" font-size="9">Logs / Metrics</text>

            <path d="M282,155 C300,145 315,138 328,130" stroke="#34d399" stroke-width="2" fill="none" marker-end="url(#arrGreen)"/>
            <text x="300" y="138" text-anchor="middle" fill="#34d399" font-size="9">Push</text>

            <path d="M452,100 C470,85 480,70 498,58" stroke="#8b5cf6" stroke-width="1.5" fill="none" marker-end="url(#arrPurple)"/>
            <path d="M452,130 C470,135 480,140 498,148" stroke="#8b5cf6" stroke-width="1.5" fill="none" marker-end="url(#arrPurple)"/>

            <path d="M555,90 C560,130 565,170 570,208" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrBlue)"/>
            <path d="M555,176 C558,188 562,198 570,208" stroke="#6366f1" stroke-width="2" fill="none" marker-end="url(#arrBlue)"/>
            <text x="620" y="145" text-anchor="middle" fill="#a5b4fc" font-size="9">Query</text>
          </svg>
        </div>

        <h3 style="color:#fff; font-size:1.1rem; margin-bottom:12px;">æˆå€‹æµç¨‹é»æ¨£é‹ä½œ</h3>
        <ol class="steps">
          <li><span class="step-num">1</span><span>App Server ç”¢ç”Ÿ Logï¼ˆå¯«å…¥æª”ï¼‰åŒ Metricsï¼ˆè¨˜æ†¶é«”è¨ˆæ•¸ï¼‰ã€‚Log Agentï¼ˆFluentdã€Filebeatï¼‰æœƒå®šæœŸè®€å–æˆ–æ¥æ”¶æ¨é€ã€‚é‡é»ä¿‚ï¼šå‘¢å€‹ä¿‚æ•¸æ“šå˜…æºé ­ã€‚</span></li>
          <li><span class="step-num">2</span><span>Log Agent å°‡æ•¸æ“š push å» Kafkaã€‚Kafka å˜…è§’è‰²å¥½é‡è¦â€”â€”åš bufferï¼šæµé‡çªå¢æ™‚ä¸‹æ¸¸å””ä½¿å³æ™‚è™•ç†ï¼Œå¯ä»¥æ…¢æ…¢æ¶ˆè²»ï¼Œå””æœƒä¸Ÿæ•¸æ“šã€‚</span></li>
          <li><span class="step-num">3</span><span>æ™‚åºæ•¸æ“šï¼ˆCPUã€QPSï¼‰å» Time Series DBï¼›Log æ–‡å­—å» Elasticsearchã€‚Grafana ç•«åœ–è¡¨åŒè¨­å®šå‘Šè­¦è¦å‰‡ã€‚è¨˜ä½å‘¢å€‹åˆ†å·¥ã€‚</span></li>
        </ol>
      </div>
    </div>

    <div class="tab-content" id="collect">
      <div class="card">
        <h2>æ”¶é›†æ¨¡å¼ï¼šPush vs Pull</h2>
        <div class="subtitle">å…©ç¨®å””åŒå˜…æ–¹å¼å»æ”¶é›† Metrics åŒ Logs</div>
        <p>
          å¿…é ˆåˆ†æ¸…æ¥šå…©ç¨®æ¨¡å¼ã€‚<strong style="color:#34d399">Push æ¨¡å¼</strong>ï¼šApp ä¸»å‹•å°‡æ•¸æ“šé€å» collectorã€‚é©åˆåˆ†æ•£å¼ç³»çµ±ï¼Œæ¯å€‹æœå‹™è‡ªå·± pushã€‚ç¼ºé»ä¿‚ collector è¦è™•ç†å¤§é‡é€£æ¥ã€‚
        </p>
        <p>
          <strong style="color:#f59e0b">Pull æ¨¡å¼</strong>ï¼šCollectorï¼ˆä¾‹å¦‚ Prometheusï¼‰ä¸»å‹•å» scrape æ¯å€‹ target å˜… metrics endpointã€‚é›†ä¸­ç®¡ç†ï¼Œå®¹æ˜“åŠ æ¸› targetã€‚Prometheus å°±ç”¨å‘¢ç¨®ã€‚å»ºè­°å…©ç¨®éƒ½è¦è­˜ã€‚
        </p>
        <div class="key-points">
          <div class="key-point">
            <h4>Push vs Pull æ”¶é›†</h4>
            <p>Pushï¼šApp â†’ Collectorã€‚Pullï¼šCollector å®šæœŸå» App æ”ã€‚åŸå‰‡ä¿‚ï¼šLog é€šå¸¸ Pushï¼ŒMetrics å…©ç¨®éƒ½å¾—ã€‚æ ¹æ“šå ´æ™¯æ€ã€‚</p>
          </div>
          <div class="key-point">
            <h4>Kafka Buffer</h4>
            <p>é‡é»ä¿‚ï¼šé«˜æµé‡æ™‚ä¸‹æ¸¸å¯èƒ½è™•ç†å””åˆ‡ã€‚Kafka åš bufferï¼Œè§£è€¦ producer åŒ consumerï¼Œå””æœƒä¸Ÿæ•¸æ“šã€‚å‘¢å€‹ä¿‚é—œéµè¨­è¨ˆã€‚</p>
          </div>
          <div class="key-point">
            <h4>Time Series DB</h4>
            <p>InfluxDBã€Prometheusã€VictoriaMetrics å°ˆç‚ºæ™‚åºæ•¸æ“šè¨­è¨ˆï¼Œå£“ç¸®å¥½ã€æŸ¥è©¢å¿«ã€‚å»ºè­°ä¸€å®šè¦å­¸è­˜ç”¨è‡³å°‘ä¸€ç¨®ã€‚</p>
          </div>
          <div class="key-point">
            <h4>Alert Rules</h4>
            <p>è¨­å®šå‘Šè­¦å˜…æ–¹æ³•ï¼šCPU > 80% å°±ç™¼ Slackã€éŒ¯èª¤ç‡å‡å°± call on-callã€‚Grafana Alertmanager ä¿‚æœ€å¸¸ç”¨å˜…çµ„åˆã€‚</p>
          </div>
        </div>
      </div>
    </div>

    <div class="tab-content" id="practice">
      <div class="card">
        <h2>å¯¦æˆ°è¦é»</h2>
        <div class="subtitle">ç›£æ§ç³»çµ±è¨­è¨ˆå˜…é—œéµæ±ºç­–</div>
        <div class="key-points">
          <div class="key-point">
            <h4>Push vs Pull æ”¶é›†</h4>
            <p>Push é©åˆåˆ†æ•£å¼ã€çŸ­ç”Ÿå‘½é€±æœŸæœå‹™ï¼ˆä¾‹å¦‚ Kubernetes Podï¼‰ã€‚Pull é©åˆé›†ä¸­ç®¡ç†ã€ç©©å®šå˜… target listã€‚æ ¹æ“šæ¶æ§‹å»æ€ã€‚</p>
          </div>
          <div class="key-point">
            <h4>Kafka Buffer</h4>
            <p>é‡è¦åŸå‰‡ï¼šåƒè¬å””å¥½ App ç›´æ¥å¯« DBã€‚Kafka åš bufferï¼Œä¸‹æ¸¸å¯ä»¥æ…¢æ…¢è™•ç†ï¼Œæµé‡é«˜å³°éƒ½é ‚å¾—ä½ã€‚å‘¢å€‹ä¿‚å¯¦æˆ°ç¶“é©—ã€‚</p>
          </div>
          <div class="key-point">
            <h4>Time Series DB</h4>
            <p>é»æ€ï¼šMetrics ç”¨ InfluxDBã€Prometheusï¼›Log ç”¨ Elasticsearchã€‚å””å¥½ç”¨ MySQL å­˜æ™‚åºæ•¸æ“šï¼Œæœƒå¥½æ…¢ã€‚è¨˜ä½å‘¢å€‹ trade-offã€‚</p>
          </div>
          <div class="key-point">
            <h4>Alert Rules</h4>
            <p>å»ºè­°å­¸è­˜ Golden Signalsï¼šå»¶é²ã€ååé‡ã€éŒ¯èª¤ç‡ã€é£½å’Œåº¦ã€‚è¨­å®šåˆç† thresholdï¼Œé¿å…å‘Šè­¦ç–²å‹ã€‚å‘¢å››å€‹æŒ‡æ¨™ä¿‚èµ·æ­¥é»ã€‚</p>
          </div>
        </div>
        <div class="use-case">
          <h4>æ¨è–¦å˜…å¸¸è¦‹çµ„åˆ</h4>
          <p>Prometheus + Grafana åš metricsï¼›Elasticsearch + Kibana åš log æœå°‹ï¼›Loki ä¿‚ lightweight å˜… log æ–¹æ¡ˆã€‚Kafka ä¸²èµ·æˆæ¢ pipelineï¼Œç¢ºä¿é«˜å¯ç”¨ã€‚è·Ÿä½å‘¢å€‹çµ„åˆå»å­¸å°±å•±ã€‚</p>
        </div>
      </div>
    </div>
    <div class="tab-content" id="ai-viber">
      <div class="card">
        <h2>AI Viber</h2>
        <div class="subtitle">è¤‡è£½ Promptï¼Œè²¼å» AI å·¥å…·ï¼Œå³åˆ»é–‹å§‹ Build</div>

        <div class="prompt-card">
          <h4>Prompt 1 â€” è¨­è¨ˆ Metrics + Logging åŸºç¤è¨­æ–½</h4>
          <div class="prompt-text" id="prompt1">ç‚º <span class="placeholder">[é …ç›®åç¨±ï¼Œä¾‹å¦‚ï¼šSaaS è¨‚é–±å¹³å°]</span> è¨­è¨ˆä¸€å¥—å®Œæ•´å˜… Metrics åŒ Logging åŸºç¤è¨­æ–½ã€‚

æŠ€è¡“æ£§ï¼š<span class="placeholder">[ä¾‹å¦‚ï¼šNode.js + PostgreSQL + Redisï¼Œéƒ¨ç½²å–º AWS ECS]</span>

è«‹è¼¸å‡ºä»¥ä¸‹å…§å®¹ï¼š
1. Metrics Pipeline æ¶æ§‹åœ–ï¼ˆæ–‡å­—æè¿°ï¼‰ï¼šApp â†’ Log Agent â†’ Kafka â†’ Time Series DB â†’ Grafana
2. éœ€è¦æ”¶é›†å˜… Golden Signalsï¼šLatencyï¼ˆp50/p95/p99ï¼‰ã€Trafficï¼ˆRPSï¼‰ã€Error Rateã€Saturationï¼ˆCPU/Memoryï¼‰
3. æ¯å€‹ Metric å˜…å…·é«”å¯¦ç¾æ–¹å¼ï¼ˆç”¨å’© Libraryã€é»æ¨£ instrument codeï¼‰
4. Kafka ä½œç‚º Buffer å˜…é…ç½®å»ºè­°ï¼ˆTopic è¨­è¨ˆã€Retention Policyã€Consumer Groupï¼‰
5. Grafana Dashboard ä½ˆå±€è¨­è¨ˆï¼ˆå¹¾å€‹ Panelã€æ¯å€‹ Panel é¡¯ç¤ºå’©æ•¸æ“šï¼‰
6. Alert Rules æ¸…å–®ï¼ˆè‡³å°‘ 5 æ¢ï¼ŒåŒ…æ‹¬ Threshold åŒé€šçŸ¥æ¸ é“ï¼‰

æœ€å¾Œåˆ—å‡ºéƒ¨ç½²é †åºåŒä¼°ç®—å˜… Infrastructure æˆæœ¬ã€‚</div>
          <button class="copy-btn" onclick="copyPrompt('prompt1', this)">ğŸ“‹ è¤‡è£½</button>
        </div>

        <div class="prompt-card">
          <h4>Prompt 2 â€” å»ºç«‹ Structured Logging Pipeline</h4>
          <div class="prompt-text" id="prompt2">ç‚º <span class="placeholder">[å¾®æœå‹™åç¨±ï¼Œä¾‹å¦‚ï¼šPayment Service]</span> å»ºç«‹ä¸€å¥— Structured Logging Pipelineã€‚

è¦æ±‚ï¼š
1. å®šç¾©çµ±ä¸€å˜… Log Formatï¼ˆJSONï¼‰ï¼ŒåŒ…å«ä»¥ä¸‹ Fieldsï¼š
   - timestamp, service_name, log_level, trace_id, span_id
   - request_id, user_id, endpoint, method, status_code
   - duration_ms, error_message, stack_traceï¼ˆå¦‚é©ç”¨ï¼‰

2. ç”¨ <span class="placeholder">[èªè¨€/æ¡†æ¶ï¼Œä¾‹å¦‚ï¼šNode.js + Winston]</span> å¯«ä¸€å€‹ Logger Utilityï¼Œæ”¯æŒï¼š
   - è‡ªå‹•æ³¨å…¥ trace_id åŒ request_id
   - å€åˆ† INFO / WARN / ERROR / DEBUG ç´šåˆ¥
   - å–º Production è‡ªå‹•éš±è— DEBUG ç´šåˆ¥

3. Log æ”¶é›†æ–¹æ¡ˆï¼šFluentd é…ç½®æª”ï¼Œå°‡ Log é€å» Elasticsearch
4. Kibana æŸ¥è©¢æ¨¡æ¿ï¼š5 å€‹å¸¸ç”¨å˜… Queryï¼ˆä¾‹å¦‚ã€Œéå» 1 å°æ™‚æ‰€æœ‰ 5xx éŒ¯èª¤ã€ï¼‰
5. Log Rotation åŒ Retention ç­–ç•¥å»ºè­°

è«‹ç›´æ¥è¼¸å‡ºå¯ä»¥ç”¨å˜… Code åŒ Config æª”æ¡ˆã€‚</div>
          <button class="copy-btn" onclick="copyPrompt('prompt2', this)">ğŸ“‹ è¤‡è£½</button>
        </div>

        <div class="prompt-card">
          <h4>Prompt 3 â€” è¨­è¨ˆ Alerting è¦å‰‡åŒ Runbook</h4>
          <div class="prompt-text" id="prompt3">ç‚º <span class="placeholder">[ç³»çµ±åç¨±ï¼Œä¾‹å¦‚ï¼šé›»å•†å¹³å°]</span> è¨­è¨ˆä¸€å¥—å®Œæ•´å˜… Alerting è¦å‰‡åŒå°æ‡‰å˜… Runbookã€‚

ç³»çµ±æ¶æ§‹ï¼š<span class="placeholder">[ç°¡è¿°ï¼Œä¾‹å¦‚ï¼š3 å€‹å¾®æœå‹™ + PostgreSQL + Redis + Nginx]</span>

è«‹è¼¸å‡ºï¼š
1. è‡³å°‘ 8 æ¢ Alert Rulesï¼Œæ¯æ¢åŒ…å«ï¼š
   - æŒ‡æ¨™åç¨±åŒ PromQL è¡¨é”å¼
   - Threshold æ•¸å€¼ï¼ˆWarning åŒ Critical å…©å€‹ç´šåˆ¥ï¼‰
   - é€šçŸ¥æ¸ é“ï¼ˆSlack / Email / PagerDutyï¼‰
   - é æœŸè§¸ç™¼é »ç‡

2. æ¯æ¢ Alert å°æ‡‰å˜… Runbookï¼ŒåŒ…å«ï¼š
   - å•é¡Œæè¿°ï¼ˆå‘¢å€‹ Alert ä»£è¡¨å’©æƒ…æ³ï¼‰
   - æ’æŸ¥æ­¥é©Ÿï¼ˆç”±ç¬¬ä¸€æ­¥åˆ°å®šä½å•é¡Œå˜…å®Œæ•´æµç¨‹ï¼‰
   - å¸¸è¦‹æ ¹å› ï¼ˆTop 3 æœ€å¯èƒ½å˜…åŸå› ï¼‰
   - ä¿®å¾©æ–¹æ¡ˆï¼ˆè‡¨æ™‚åŒæ°¸ä¹…å˜…è§£æ±ºæ–¹æ³•ï¼‰

3. Alert åˆ†çµ„åŒéœé»˜ç­–ç•¥ï¼ˆé¿å… Alert Fatigueï¼‰</div>
          <button class="copy-btn" onclick="copyPrompt('prompt3', this)">ğŸ“‹ è¤‡è£½</button>
        </div>
      </div>
    </div>

    <div class="related-topics">
      <div class="card">
        <h3>ç›¸é—œèª²é¡Œ</h3>
        <div class="related-links">
        <a href="monitoring.html" class="related-link">æ‡‰ç”¨ç¨‹å¼ç›£æ§</a>
        <a href="cicd-pipeline.html" class="related-link">CI/CD è‡ªå‹•åŒ–éƒ¨ç½²</a>
        <a href="fix-slow-database.html" class="related-link">Debug æ…¢å˜… Database</a>
        <a href="system-design-patterns.html" class="related-link">ç³»çµ±è¨­è¨ˆæ¨¡å¼ç¸½è¦½</a>
        </div>
      </div>
    </div>
  </div>

  <script src="../premium-gate.js"></script>
  <script>
    const tabs = document.querySelectorAll('.tab-btn');
    const contents = document.querySelectorAll('.tab-content');
    tabs.forEach(tab => { tab.addEventListener('click', () => { tabs.forEach(t => t.classList.remove('active')); contents.forEach(c => c.classList.remove('active')); tab.classList.add('active'); document.getElementById(tab.dataset.tab)?.classList.add('active'); }); });

    function copyPrompt(id, btn) {
      const text = document.getElementById(id).innerText;
      navigator.clipboard.writeText(text).then(() => {
        btn.textContent = 'âœ… å·²è¤‡è£½';
        btn.classList.add('copied');
        setTimeout(() => { btn.textContent = 'ğŸ“‹ è¤‡è£½'; btn.classList.remove('copied'); }, 2000);
      });
    }
  </script>
</body>
</html>
