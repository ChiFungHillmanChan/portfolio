import{j as e,T as a,R as h,r as o}from"./index-I1-GjNo9.js";const p=[{slug:"ai-model-comparison",label:"AI 模型深入對比"},{slug:"ai-tools-landscape",label:"AI 工具全景圖"},{slug:"authentication",label:"Authentication 驗證"},{slug:"mcp-protocol",label:"MCP 模型上下文協議"}];function f(){return e.jsxs("div",{className:"card",children:[e.jsx("h2",{children:"API Token 安全與成本"}),e.jsx("div",{className:"subtitle",children:"Token 生命週期、Authentication vs Authorization、模型定價"}),e.jsxs("p",{children:["用 AI API 嘅第一步就係攞個 API Key。但好多人唔知，呢個 key 一旦洩露，你嘅 ",e.jsx("strong",{style:{color:"#ef4444"},children:"錢同數據"})," 就會同時出事。API Token 唔止係身份驗證咁簡單——佢決定咗你係邊個（Authentication）、你可以做咩（Authorization）、同你要俾幾多錢。"]}),e.jsx("p",{children:"而家 AI API 嘅定價差異極大，揀錯模型分分鐘月尾帳單嚇死你。所以搞清楚 token security 同 cost 係每個工程師嘅基本功。"}),e.jsx("div",{className:"diagram-container",children:e.jsxs("svg",{viewBox:"0 0 750 470",xmlns:"http://www.w3.org/2000/svg",children:[e.jsx("defs",{children:e.jsx("filter",{id:"shadow-ts",x:"-4%",y:"-4%",width:"108%",height:"108%",children:e.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#000",floodOpacity:"0.3"})})}),e.jsx("text",{x:"375",y:"28",textAnchor:"middle",fill:"#e2e8f0",fontSize:"15",fontWeight:"700",children:"2026 主流 AI 模型 API 定價對比"}),e.jsx("rect",{x:"20",y:"42",width:"710",height:"30",rx:"6",fill:"#1e293b"}),e.jsx("text",{x:"40",y:"62",fill:"#9ca3af",fontSize:"10",fontWeight:"700",children:"模型"}),e.jsx("text",{x:"280",y:"62",fill:"#9ca3af",fontSize:"10",fontWeight:"700",children:"Input (per 1M tokens)"}),e.jsx("text",{x:"480",y:"62",fill:"#9ca3af",fontSize:"10",fontWeight:"700",children:"Output (per 1M tokens)"}),e.jsx("text",{x:"650",y:"62",fill:"#9ca3af",fontSize:"10",fontWeight:"700",children:"定位"}),e.jsx("rect",{x:"20",y:"76",width:"710",height:"28",rx:"0",fill:"#1a1d27",stroke:"#475569",strokeWidth:"0.5"}),e.jsx("text",{x:"40",y:"95",fill:"#a78bfa",fontSize:"10",fontWeight:"600",children:"Claude Opus 4.6"}),e.jsx("text",{x:"280",y:"95",fill:"#ef4444",fontSize:"10",children:"$15.00"}),e.jsx("text",{x:"480",y:"95",fill:"#ef4444",fontSize:"10",children:"$75.00"}),e.jsx("text",{x:"650",y:"95",fill:"#9ca3af",fontSize:"9",children:"旗艦推理"}),e.jsx("rect",{x:"20",y:"104",width:"710",height:"28",rx:"0",fill:"#1a1d27",stroke:"#475569",strokeWidth:"0.5"}),e.jsx("text",{x:"40",y:"123",fill:"#a78bfa",fontSize:"10",fontWeight:"600",children:"Claude Sonnet 4.5"}),e.jsx("text",{x:"280",y:"123",fill:"#F59E0B",fontSize:"10",children:"$3.00"}),e.jsx("text",{x:"480",y:"123",fill:"#F59E0B",fontSize:"10",children:"$15.00"}),e.jsx("text",{x:"650",y:"123",fill:"#9ca3af",fontSize:"9",children:"性價比之選"}),e.jsx("rect",{x:"20",y:"132",width:"710",height:"28",rx:"0",fill:"#1a1d27",stroke:"#475569",strokeWidth:"0.5"}),e.jsx("text",{x:"40",y:"151",fill:"#34d399",fontSize:"10",fontWeight:"600",children:"GPT-5.3 Codex"}),e.jsx("text",{x:"280",y:"151",fill:"#F59E0B",fontSize:"10",children:"$2.00"}),e.jsx("text",{x:"480",y:"151",fill:"#F59E0B",fontSize:"10",children:"$10.00"}),e.jsx("text",{x:"650",y:"151",fill:"#9ca3af",fontSize:"9",children:"Agentic 編程"}),e.jsx("rect",{x:"20",y:"160",width:"710",height:"28",rx:"0",fill:"#1a1d27",stroke:"#475569",strokeWidth:"0.5"}),e.jsx("text",{x:"40",y:"179",fill:"#F59E0B",fontSize:"10",fontWeight:"600",children:"Gemini 3 Pro"}),e.jsx("text",{x:"280",y:"179",fill:"#F59E0B",fontSize:"10",children:"$2.00 - $4.00"}),e.jsx("text",{x:"480",y:"179",fill:"#F59E0B",fontSize:"10",children:"$12.00 - $18.00"}),e.jsx("text",{x:"650",y:"179",fill:"#9ca3af",fontSize:"9",children:"長 Context"}),e.jsx("rect",{x:"20",y:"188",width:"710",height:"28",rx:"0",fill:"#1a1d27",stroke:"#475569",strokeWidth:"0.5"}),e.jsx("text",{x:"40",y:"207",fill:"#34d399",fontSize:"10",fontWeight:"600",children:"Gemini 3 Flash"}),e.jsx("text",{x:"280",y:"207",fill:"#34d399",fontSize:"10",children:"$0.10"}),e.jsx("text",{x:"480",y:"207",fill:"#34d399",fontSize:"10",children:"$0.40"}),e.jsx("text",{x:"650",y:"207",fill:"#9ca3af",fontSize:"9",children:"超平快速"}),e.jsx("rect",{x:"20",y:"216",width:"710",height:"28",rx:"0",fill:"#1a1d27",stroke:"#475569",strokeWidth:"0.5"}),e.jsx("text",{x:"40",y:"235",fill:"#ef4444",fontSize:"10",fontWeight:"600",children:"DeepSeek V3.2"}),e.jsx("text",{x:"280",y:"235",fill:"#34d399",fontSize:"10",children:"$0.28"}),e.jsx("text",{x:"480",y:"235",fill:"#34d399",fontSize:"10",children:"$0.42"}),e.jsx("text",{x:"650",y:"235",fill:"#9ca3af",fontSize:"9",children:"開源最平"}),e.jsx("line",{x1:"20",y1:"256",x2:"730",y2:"256",stroke:"#475569",strokeWidth:"0.5"}),e.jsx("text",{x:"375",y:"280",textAnchor:"middle",fill:"#e2e8f0",fontSize:"12",fontWeight:"700",children:"Output 成本對比（每 1M tokens）"}),e.jsx("text",{x:"40",y:"308",fill:"#a78bfa",fontSize:"9",children:"Claude Opus 4.6"}),e.jsx("rect",{x:"180",y:"298",width:"500",height:"14",rx:"3",fill:"#7c3aed",opacity:"0.8"}),e.jsx("text",{x:"690",y:"309",fill:"#e2e8f0",fontSize:"9",children:"$75"}),e.jsx("text",{x:"40",y:"330",fill:"#a78bfa",fontSize:"9",children:"Claude Sonnet 4.5"}),e.jsx("rect",{x:"180",y:"320",width:"100",height:"14",rx:"3",fill:"#8b5cf6",opacity:"0.7"}),e.jsx("text",{x:"290",y:"331",fill:"#e2e8f0",fontSize:"9",children:"$15"}),e.jsx("text",{x:"40",y:"352",fill:"#34d399",fontSize:"9",children:"GPT-5.3 Codex"}),e.jsx("rect",{x:"180",y:"342",width:"67",height:"14",rx:"3",fill:"#059669",opacity:"0.7"}),e.jsx("text",{x:"257",y:"353",fill:"#e2e8f0",fontSize:"9",children:"$10"}),e.jsx("text",{x:"40",y:"374",fill:"#F59E0B",fontSize:"9",children:"Gemini 3 Pro"}),e.jsx("rect",{x:"180",y:"364",width:"120",height:"14",rx:"3",fill:"#d97706",opacity:"0.7"}),e.jsx("text",{x:"310",y:"375",fill:"#e2e8f0",fontSize:"9",children:"$12-18"}),e.jsx("text",{x:"40",y:"396",fill:"#34d399",fontSize:"9",children:"Gemini 3 Flash"}),e.jsx("rect",{x:"180",y:"386",width:"3",height:"14",rx:"1",fill:"#10B981",opacity:"0.8"}),e.jsx("text",{x:"193",y:"397",fill:"#e2e8f0",fontSize:"9",children:"$0.40"}),e.jsx("text",{x:"40",y:"418",fill:"#ef4444",fontSize:"9",children:"DeepSeek V3.2"}),e.jsx("rect",{x:"180",y:"408",width:"3",height:"14",rx:"1",fill:"#ef4444",opacity:"0.8"}),e.jsx("text",{x:"193",y:"419",fill:"#e2e8f0",fontSize:"9",children:"$0.42"}),e.jsx("text",{x:"375",y:"450",textAnchor:"middle",fill:"#9ca3af",fontSize:"9",children:"Opus output 成本係 Flash 嘅 188 倍 — 揀錯模型真係會破產"})]})}),e.jsxs("ol",{className:"steps",children:[e.jsxs("li",{children:[e.jsx("span",{className:"step-num",children:"1"}),e.jsxs("span",{children:[e.jsx("strong",{children:"API Token = 你嘅身份證 + 信用卡"})," — 洩露咗等於俾人免費用你嘅 quota。有人試過 push key 上 GitHub，幾個鐘頭內被 bot scan 到，帳單直接爆幾千美金。呢啲錢係追唔返嘅。"]})]}),e.jsxs("li",{children:[e.jsx("span",{className:"step-num",children:"2"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Authentication（你係邊個）vs Authorization（你可以做咩）"})," — Authentication 驗證你嘅身份，Authorization 決定你嘅權限。API Key 通常同時做埋兩樣嘢，所以一旦洩露就雙重災難。"]})]}),e.jsxs("li",{children:[e.jsx("span",{className:"step-num",children:"3"}),e.jsxs("span",{children:[e.jsx("strong",{children:"Token 有 scope（讀/寫/admin）— 永遠用最小權限"}),"。如果你嘅 app 淨係需要 read，就唔好俾 write 權限。OpenAI、Anthropic 都支援 restricted API keys，用得盡用。萬一洩露，damage 都細好多。"]})]})]})]})}function j(){return e.jsxs("div",{className:"card",children:[e.jsx("h2",{children:"5 大 API Key 保護方法"}),e.jsx("div",{className:"subtitle",children:"由本地開發到 Production，逐層保護你嘅 key"}),e.jsxs("p",{children:["API Key 安全唔係一招搞掂，而係",e.jsx("strong",{children:"多層防禦"}),"。由開發環境到 Production，每層都有唔同嘅最佳做法。以下 5 種方法由簡單到進階排列。"]}),e.jsxs("div",{className:"key-points",children:[e.jsxs("div",{className:"key-point",children:[e.jsx("h4",{children:"① Environment Variables (.env)"}),e.jsxs("p",{children:[e.jsx("strong",{style:{color:"#34d399"},children:"本地開發用，記得加 .gitignore"}),"。將 key 放喺 ",e.jsx("code",{children:".env"})," 檔案，永遠唔好 hardcode 喺 source code 入面。",e.jsx("code",{children:".env"})," 檔案一定要加入 ",e.jsx("code",{children:".gitignore"}),"，否則 push 上 GitHub 就即刻洩露。呢個係最基本但最多人中招嘅一步。"]})]}),e.jsxs("div",{className:"key-point",children:[e.jsx("h4",{children:"② Backend Proxy"}),e.jsxs("p",{children:[e.jsx("strong",{style:{color:"#ef4444"},children:"Frontend 永遠唔好直接 call AI API，用 backend proxy 隱藏 key"}),"。Frontend 嘅所有 code 都係公開嘅——用 DevTools 就睇到。所以一定要用 backend server 做中間層，key 只存在 server side，frontend call 你嘅 backend endpoint。"]})]}),e.jsxs("div",{className:"key-point",children:[e.jsx("h4",{children:"③ Cloud Secret Manager (GCP/AWS)"}),e.jsxs("p",{children:[e.jsx("strong",{style:{color:"#a78bfa"},children:"Production 用，有 IAM + audit log"}),"。Google Secret Manager 或 AWS Secrets Manager 提供加密存儲、精細嘅 IAM 權限控制、同完整嘅 audit log。你可以追蹤邊個、幾時、喺邊度 access 過你嘅 key。"]})]}),e.jsxs("div",{className:"key-point",children:[e.jsx("h4",{children:"④ Platform Secrets (Vercel/Railway)"}),e.jsxs("p",{children:[e.jsx("strong",{style:{color:"#F59E0B"},children:"Serverless 部署用，UI 簡單"}),"。Vercel、Railway、Netlify 等平台都有內建嘅 Environment Variables UI。只需要喺 dashboard 設定一次，deploy 時會自動注入。適合唔想搞 cloud infra 嘅個人開發者。"]})]}),e.jsxs("div",{className:"key-point",children:[e.jsx("h4",{children:"⑤ Key Rotation"}),e.jsxs("p",{children:[e.jsx("strong",{style:{color:"#34d399"},children:"定期換 key，舊 key 設 expiry"}),"。即使冇洩露跡象，都應該每 30-90 日 rotate key。大部分 API provider 都支援同時有多個 active key，方便你無縫切換。Set 舊 key 嘅 expiry date，到期自動 revoke。"]})]})]}),e.jsx("div",{className:"diagram-container",children:e.jsxs("svg",{viewBox:"0 0 700 200",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxs("defs",{children:[e.jsx("filter",{id:"shadow-fw",x:"-4%",y:"-4%",width:"108%",height:"108%",children:e.jsx("feDropShadow",{dx:"0",dy:"2",stdDeviation:"3",floodColor:"#000",floodOpacity:"0.3"})}),e.jsx("marker",{id:"arrProxy",markerWidth:"8",markerHeight:"8",refX:"7",refY:"4",orient:"auto",children:e.jsx("path",{d:"M0,0 L8,4 L0,8 Z",fill:"#6366f1"})})]}),e.jsx("text",{x:"350",y:"25",textAnchor:"middle",fill:"#e2e8f0",fontSize:"13",fontWeight:"700",children:"Backend Proxy 架構 — Frontend 永遠唔接觸 API Key"}),e.jsx("rect",{x:"30",y:"60",width:"160",height:"80",rx:"14",fill:"#1a1d27",stroke:"#3B82F6",strokeWidth:"2",filter:"url(#shadow-fw)"}),e.jsx("text",{x:"110",y:"90",textAnchor:"middle",fill:"#3B82F6",fontSize:"13",fontWeight:"700",children:"Frontend"}),e.jsx("text",{x:"110",y:"110",textAnchor:"middle",fill:"#9ca3af",fontSize:"9",children:"React / Next.js"}),e.jsx("text",{x:"110",y:"125",textAnchor:"middle",fill:"#ef4444",fontSize:"9",children:"無 API Key"}),e.jsx("path",{d:"M192,100 L268,100",fill:"none",stroke:"#6366f1",strokeWidth:"2",markerEnd:"url(#arrProxy)"}),e.jsx("text",{x:"230",y:"92",textAnchor:"middle",fill:"#9ca3af",fontSize:"8",children:"/api/chat"}),e.jsx("rect",{x:"270",y:"50",width:"180",height:"100",rx:"14",fill:"#0f3d2e",stroke:"#10B981",strokeWidth:"2.5",filter:"url(#shadow-fw)"}),e.jsx("text",{x:"360",y:"80",textAnchor:"middle",fill:"#10B981",fontSize:"13",fontWeight:"700",children:"Your Backend"}),e.jsx("text",{x:"360",y:"98",textAnchor:"middle",fill:"#34d399",fontSize:"9",children:"API Key 安全存放"}),e.jsx("text",{x:"360",y:"113",textAnchor:"middle",fill:"#9ca3af",fontSize:"9",children:"Rate Limit + Auth"}),e.jsx("text",{x:"360",y:"128",textAnchor:"middle",fill:"#9ca3af",fontSize:"9",children:"Usage Tracking"}),e.jsx("path",{d:"M452,100 L528,100",fill:"none",stroke:"#6366f1",strokeWidth:"2",markerEnd:"url(#arrProxy)"}),e.jsx("text",{x:"490",y:"92",textAnchor:"middle",fill:"#9ca3af",fontSize:"8",children:"Bearer token"}),e.jsx("rect",{x:"530",y:"60",width:"140",height:"80",rx:"14",fill:"#3d2e0a",stroke:"#F59E0B",strokeWidth:"2",filter:"url(#shadow-fw)"}),e.jsx("text",{x:"600",y:"90",textAnchor:"middle",fill:"#F59E0B",fontSize:"13",fontWeight:"700",children:"AI API"}),e.jsx("text",{x:"600",y:"110",textAnchor:"middle",fill:"#9ca3af",fontSize:"9",children:"OpenAI / Anthropic"}),e.jsx("text",{x:"600",y:"125",textAnchor:"middle",fill:"#9ca3af",fontSize:"9",children:"Google / etc."}),e.jsx("text",{x:"350",y:"180",textAnchor:"middle",fill:"#34d399",fontSize:"10",fontWeight:"600",children:"User 永遠接觸唔到 API Key — 就算 inspect network request 都睇唔到"})]})}),e.jsxs("div",{className:"use-case",children:[e.jsx("h4",{children:"防禦層級建議"}),e.jsxs("p",{children:["個人 side project → .env + Platform Secrets 就夠。",e.jsx("br",{}),"有 user 嘅 app → 一定要 Backend Proxy + Rate Limit。",e.jsx("br",{}),"Production / 企業 → Cloud Secret Manager + Key Rotation + Audit Log 全套。"]})]})]})}function y(){return e.jsxs("div",{className:"card",children:[e.jsx("h2",{children:"實戰練習：3 個 Hands-on Exercises"}),e.jsx("div",{className:"subtitle",children:"跟住步驟做，由零開始保護你嘅 API Key"}),e.jsxs("ol",{className:"steps",children:[e.jsxs("li",{children:[e.jsx("span",{className:"step-num",children:"1"}),e.jsxs("span",{children:[e.jsx("strong",{style:{color:"#34d399"},children:"Exercise 1：.env + .gitignore Setup"}),e.jsx("br",{}),e.jsx("strong",{children:"Step 1"}),"：喺 project root 建立 ",e.jsx("code",{children:".env"})," 檔案：",e.jsx("br",{}),e.jsxs("code",{style:{display:"block",background:"#1a1d27",padding:"8px 12px",borderRadius:8,margin:"8px 0",fontSize:13},children:["OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxx",e.jsx("br",{}),"ANTHROPIC_API_KEY=sk-ant-xxxxxxxxxxxx"]}),e.jsx("strong",{children:"Step 2"}),"：喺 ",e.jsx("code",{children:".gitignore"})," 加入：",e.jsx("br",{}),e.jsxs("code",{style:{display:"block",background:"#1a1d27",padding:"8px 12px",borderRadius:8,margin:"8px 0",fontSize:13},children:[".env",e.jsx("br",{}),".env.local",e.jsx("br",{}),".env.production"]}),e.jsx("strong",{children:"Step 3"}),"：建立 ",e.jsx("code",{children:".env.example"}),"（template 俾其他人參考，唔放真 key）：",e.jsx("br",{}),e.jsxs("code",{style:{display:"block",background:"#1a1d27",padding:"8px 12px",borderRadius:8,margin:"8px 0",fontSize:13},children:["OPENAI_API_KEY=your-key-here",e.jsx("br",{}),"ANTHROPIC_API_KEY=your-key-here"]}),e.jsx("strong",{children:"Step 4"}),"：驗證 — 行 ",e.jsx("code",{children:"git status"})," 確認 ",e.jsx("code",{children:".env"})," 冇出現喺 tracked files。"]})]}),e.jsxs("li",{children:[e.jsx("span",{className:"step-num",children:"2"}),e.jsxs("span",{children:[e.jsx("strong",{style:{color:"#a78bfa"},children:"Exercise 2：Backend Proxy for AI API Calls"}),e.jsx("br",{}),e.jsx("strong",{children:"FastAPI 版本："}),e.jsx("br",{}),e.jsx("code",{style:{display:"block",background:"#1a1d27",padding:"8px 12px",borderRadius:8,margin:"8px 0",fontSize:13,whiteSpace:"pre-wrap"},children:`# main.py
from fastapi import FastAPI, HTTPException
from anthropic import Anthropic
import os

app = FastAPI()
client = Anthropic(api_key=os.getenv("ANTHROPIC_API_KEY"))

@app.post("/api/chat")
async def chat(request: dict):
    try:
        response = client.messages.create(
            model="claude-sonnet-4-20250514",
            max_tokens=1024,
            messages=request["messages"]
        )
        return {"content": response.content[0].text}
    except Exception as e:
        raise HTTPException(status_code=500, detail=str(e))`}),e.jsx("strong",{children:"Express 版本："}),e.jsx("br",{}),e.jsx("code",{style:{display:"block",background:"#1a1d27",padding:"8px 12px",borderRadius:8,margin:"8px 0",fontSize:13,whiteSpace:"pre-wrap"},children:`// server.js
const express = require('express');
const Anthropic = require('@anthropic-ai/sdk');

const app = express();
app.use(express.json());

const client = new Anthropic({
  apiKey: process.env.ANTHROPIC_API_KEY
});

app.post('/api/chat', async (req, res) => {
  try {
    const response = await client.messages.create({
      model: 'claude-sonnet-4-20250514',
      max_tokens: 1024,
      messages: req.body.messages
    });
    res.json({ content: response.content[0].text });
  } catch (err) {
    res.status(500).json({ error: err.message });
  }
});`}),"重點：Frontend 只 call ",e.jsx("code",{children:"/api/chat"}),"，永遠唔知道 actual API key。"]})]}),e.jsxs("li",{children:[e.jsx("span",{className:"step-num",children:"3"}),e.jsxs("span",{children:[e.jsx("strong",{style:{color:"#F59E0B"},children:"Exercise 3：Monthly Cost Calculation"}),e.jsx("br",{}),e.jsx("strong",{children:"場景："}),"你嘅 app 每日有 1,000 個用戶，每人平均發 5 條 message。每條 message 平均 input 500 tokens、output 800 tokens。",e.jsx("br",{}),e.jsx("br",{}),e.jsx("strong",{children:"每月 token 用量："}),e.jsx("br",{}),"Input：1,000 users x 5 msg x 500 tokens x 30 days = ",e.jsx("strong",{children:"75M tokens"}),e.jsx("br",{}),"Output：1,000 users x 5 msg x 800 tokens x 30 days = ",e.jsx("strong",{children:"120M tokens"}),e.jsx("br",{}),e.jsx("br",{}),e.jsx("strong",{children:"月費對比："}),e.jsx("br",{}),e.jsx("code",{style:{display:"block",background:"#1a1d27",padding:"8px 12px",borderRadius:8,margin:"8px 0",fontSize:13,whiteSpace:"pre-wrap"},children:`Claude Opus 4.6:  75 x $15 + 120 x $75    = $1,125 + $9,000  = $10,125/月
Claude Sonnet 4.5: 75 x $3  + 120 x $15   = $225   + $1,800  = $2,025/月
GPT-5.3 Codex:   75 x $2   + 120 x $10    = $150   + $1,200  = $1,350/月
Gemini 3 Pro:    75 x $4   + 120 x $18    = $300   + $2,160  = $2,460/月
Gemini 3 Flash:  75 x $0.10 + 120 x $0.40 = $7.50  + $48     = $55.50/月
DeepSeek V3.2:   75 x $0.28 + 120 x $0.42 = $21    + $50.40  = $71.40/月`}),e.jsx("strong",{style:{color:"#ef4444"},children:"Opus 比 Flash 貴 182 倍"}),"。所以真實 production 通常會用 routing：簡單問題用 Flash，複雜問題先升級用 Opus。呢個叫做 ",e.jsx("strong",{children:"model routing / cascading"}),"。DeepSeek V3.2 質量接近 GPT-5.3 但成本只需 5%，係開源陣營嘅性價比之王。"]})]})]}),e.jsxs("div",{className:"use-case",children:[e.jsx("h4",{children:"成本控制黃金法則"}),e.jsxs("p",{children:["① 80% 嘅 request 用最平嘅模型就夠（Flash / Haiku）",e.jsx("br",{}),"② 設 hard spending limit 喺 API dashboard",e.jsx("br",{}),"③ 加 rate limit 防止單一用戶濫用",e.jsx("br",{}),"④ Monitor daily usage，有 spike 即 alert"]})]})]})}function u(){return e.jsxs("div",{className:"card",children:[e.jsx("h2",{children:"AI Viber"}),e.jsx("div",{className:"subtitle",children:"複製 Prompt，貼去 AI 工具，即刻估成本同審計安全"}),e.jsxs("div",{className:"prompt-card",children:[e.jsx("h4",{children:"Prompt 1 — Cost Calculator"}),e.jsx("div",{className:"prompt-text",children:`你係一個 AI API 成本計算專家。幫我估算以下使用場景嘅月費：

我嘅 App 情況：
- 每日活躍用戶：[填數字，例如：500]
- 每個用戶平均每日 request 數：[例如：10]
- 平均每個 request 嘅 input tokens：[例如：800]
- 平均每個 request 嘅 output tokens：[例如：1200]
- 需要嘅能力：[例如：一般對話 / 代碼生成 / 長文分析]

請你：
1. 計算每月總 token 用量（input + output 分開算）
2. 用以下模型計算月費：
   - Claude Opus 4.6 ($15/$75 per 1M)
   - Claude Sonnet 4.5 ($3/$15 per 1M)
   - GPT-5.3 Codex ($2/$10 per 1M)
   - Gemini 3 Pro ($4/$18 per 1M)
   - Gemini 3 Flash ($0.10/$0.40 per 1M)
   - DeepSeek V3.2 ($0.28/$0.42 per 1M)
3. 建議最佳嘅 model routing 策略（邊啲 request 用平模型，邊啲用貴模型）
4. 預估用 routing 策略後嘅實際月費（通常慳 60-80%）`})]}),e.jsxs("div",{className:"prompt-card",children:[e.jsx("h4",{children:"Prompt 2 — Security Audit"}),e.jsx("div",{className:"prompt-text",children:`你係一個 API Key 安全審計專家。我將以下代碼 / 設定貼俾你，請幫我搵出所有 API key 洩露風險：

[貼你嘅代碼 / config / .env 設定 / docker-compose.yml / CI/CD config]

請你檢查：
1. 有冇 hardcoded API key 喺 source code 入面
2. .env 有冇加入 .gitignore
3. Frontend code 有冇直接引用 API key（即使係 NEXT_PUBLIC_ 或 VITE_ prefix）
4. Docker / CI config 有冇暴露 secrets
5. 有冇用 backend proxy 保護 key

對每個發現嘅問題：
- 風險等級（Critical / High / Medium / Low）
- 具體嘅修復步驟
- 修復後嘅 code example`})]})]})}function g(){const[s,d]=o.useState({}),[r,x]=o.useState(!1),l=[{id:1,q:"以下邊個做法最危險？",options:["將 API Key 存喺 .env 檔案","將 API Key hardcode 喺 frontend JavaScript","將 API Key 存喺 Cloud Secret Manager","用 backend proxy 隱藏 API Key"],correct:1},{id:2,q:"Authentication 同 Authorization 嘅分別係咩？",options:["一樣嘅嘢，只係叫法唔同","Authentication 驗證身份，Authorization 決定權限","Authentication 決定權限，Authorization 驗證身份","兩者都同 API Key 無關"],correct:1},{id:3,q:"如果你嘅 app 用 Claude Opus 4.6 處理每月 100M output tokens，月費大約幾多？",options:["$750","$1,500","$7,500","$15,000"],correct:2},{id:4,q:"以下邊個係正確嘅 API Key 保護策略？",options:["Frontend 直接 call OpenAI API，用 HTTPS 就安全","將 key 存喺 localStorage 加密","用 backend proxy，key 只存 server side","將 key base64 encode 放喺 frontend"],correct:2},{id:5,q:"Key Rotation 嘅建議頻率係幾多？",options:["只要冇洩露就唔使換","每 30-90 日","每年一次","每次 deploy 都換"],correct:1}],n=r?l.filter(t=>s[t.id]===t.correct).length:0;return e.jsxs("div",{className:"card",children:[e.jsx("h2",{children:"小測驗"}),e.jsx("div",{className:"subtitle",children:"測試你對 API Token 安全同成本嘅理解"}),l.map(t=>e.jsxs("div",{style:{marginBottom:20},children:[e.jsx("p",{children:e.jsxs("strong",{children:[t.id,". ",t.q]})}),t.options.map((c,i)=>e.jsxs("label",{style:{display:"block",padding:"4px 0",cursor:"pointer",color:r?i===t.correct?"#34d399":s[t.id]===i?"#ef4444":"#9ca3af":"#e2e8f0"},children:[e.jsx("input",{type:"radio",name:`q${t.id}`,disabled:r,checked:s[t.id]===i,onChange:()=>d({...s,[t.id]:i}),style:{marginRight:8}}),c]},i))]},t.id)),r?e.jsxs("div",{style:{padding:16,borderRadius:12,background:n>=4?"#0f3d2e":"#3d2e0a",border:`1px solid ${n>=4?"#34d399":"#F59E0B"}`},children:[e.jsxs("strong",{children:[n,"/5"]})," — ",n>=4?"勁！你對 API Token 安全嘅理解好紮實。":"建議重溫上面嘅內容，特別係 Backend Proxy 同 Cost Calculation 部分。"]}):e.jsx("button",{onClick:()=>x(!0),className:"quiz-submit-btn",style:{padding:"8px 24px",borderRadius:8,border:"none",background:"#6366f1",color:"#fff",cursor:"pointer",fontSize:14},children:"提交"})]})}function k(){return e.jsxs(e.Fragment,{children:[e.jsx(a,{title:"API Token 安全與成本",subtitle:"保護你嘅 API Key，控制你嘅 AI 帳單 — 工程師必修課",tabs:[{id:"overview",label:"① 概念",content:e.jsx(f,{})},{id:"framework",label:"② 框架",content:e.jsx(j,{})},{id:"practice",label:"③ 實戰",premium:!0,content:e.jsx(y,{})},{id:"ai-viber",label:"④ AI Viber",premium:!0,content:e.jsx(u,{})},{id:"quiz",label:"⑤ 小測",premium:!0,content:e.jsx(g,{})}]}),e.jsx("div",{className:"topic-container",children:e.jsx(h,{topics:p})})]})}export{k as default};
